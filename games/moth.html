<!DOCTYPE HTML>
<html>

<!--
	Hi! If you're reading this, that probably means your browser 
	doesn't support downloading your bitsy game directly.

	Don't panic!

	All you need to do now is save this page as an ".html" file.
	You should be able to use cmd-s or ctrl-s to save. Then
	you may be given multiple download formats; if so, pick
	"page source" or the closest looking thing.

	The most important thing is when you save, you name the file
	"mygame.html" or something similar. Your browser may ask
	to append ".txt" or something, but don't do that. It should
	end in ".html" so your computer knows it's a webpage. 

	Now you should be able to click on your game and play it 
	in your browser!

	- adam
-->

<!-- HEADER -->
<head>

<title>In time I returned again, as I always would, to the town of my molting...</title>

<style>
html {
	margin:0px;
	padding:0px;
}

body {
	margin:0px;
	padding:0px;
	overflow:hidden;
	background:#909090;
}

#game {
	background:black;
	width:90vw;
	max-width:90vh;
	margin:auto;
	margin-top:5vh;
	display:block;
}
</style>

<!-- SCRIPTS -->
<script>
var exportedGameData = "In time I returned again, as I always would, to the town of my molting...\n\n# BITSY VERSION 3.5\n\n! ROOM_FORMAT 1\n\nPAL 0\n157,215,198\n88,89,74\n89,38,75\n\nPAL 1\n235,238,183\n45,74,62\n75,18,51\n\nPAL 2\n163,184,156\n128,91,9\n113,45,111\n\nPAL 3\n199,174,90\n34,49,34\n101,44,84\n\nPAL 4\n176,160,106\n51,58,50\n124,61,102\n\nPAL 5\n16,18,17\n254,255,217\n243,223,255\n\nROOM 0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,a,y,13,y,y,13,1s,13,y,13,y,k,15,a,0\n0,a,y,y,13,y,y,1q,y,y,y,y,r,j,a,0\n0,a,13,y,c,13,y,1q,k,l,l,l,u,14,1m,1o\n0,a,y,y,s,1s,y,1q,x,j,j,j,j,j,a,1o\n0,a,13,c,t,1q,15,1q,x,s,1p,1p,1p,1p,a,0\n0,a,v,a,s,1q,1q,1q,x,s,1p,v,w,1p,a,0\n0,a,t,a,s,1q,1q,1q,x,s,c,a,a,c,a,0\n0,a,s,a,t,1r,1r,1r,z,s,1z,1z,1z,1z,a,0\n0,a,k,i,h,j,s,s,c,s,1z,1z,1z,1z,a,0\n0,a,e,g,f,s,c,c,s,c,c,21,1n,14,1m,1o\n11,10,0,r,o,p,q,s,s,k,i,h,j,22,a,1o\n11,12,u,u,n,g,m,u,u,e,g,f,u,u,a,0\nd,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL b,d,c,a,j,r,s,y,11,10,1k,1s,1q,1z,22,2i,2l,2m,2v,2y,32,35,34,33,31,30,2x,2s,2r,3l\nEXT 13,11 7 2,3\nEXT 13,4 1 2,13\nEND undefined 1,12\nPAL 1\n\nROOM 1\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,a,1s,1s,1s,y,1s,13,y,1s,1s,1s,1s,13,a,0\n0,a,1q,1q,1q,1s,1q,1s,1s,1q,1q,1q,1q,1s,a,0\n0,a,1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,a,0\n0,a,1t,1t,1t,1t,1t,1t,1t,1t,1t,1t,1t,1t,a,0\n0,a,1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,1q,a,0\n0,a,1r,1r,1r,1r,1r,1r,1r,u,1l,u,1r,1r,a,0\n0,a,1q,1q,1q,r,o,p,q,1q,1q,1q,18,1a,a,0\n0,a,1t,1t,1t,u,n,g,m,1r,1q,1j,17,19,a,0\n0,a,1q,1q,1f,1d,1q,1q,1q,1q,1h,1i,1q,1q,a,0\n0,a,16,23,1e,1c,1t,1t,1t,1r,1g,1k,16,23,a,0\n11,10,1q,1q,1q,1q,a,18,1a,a,a,k,i,h,a,0\n11,12,1t,1t,1t,1t,1t,17,19,1t,1t,e,g,f,a,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL j,11,a,b,c,d,r,s,y,10,1k,1s,1q,1z,22,2i,2l,2m,2v,2y,32,35,34,33,31,30,2x,2s,2r,3l\nEXT 1,13 0 12,4\nPAL 0\n\nROOM 3\n0,b,0,0,0,0,0,0,0,0,0,0,0,b,0,0\nb,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,b,b,24,24,24,24,24,24,24,24,24,b,b,0,0\n0,b,24,24,24,24,20,20,20,24,24,24,24,b,0,0\n0,b,24,24,20,20,20,20,20,20,20,24,24,b,0,0\n0,b,24,20,20,20,1w,1w,1w,20,20,20,24,b,0,0\n0,b,20,20,20,1w,1w,25,1w,1w,20,20,20,b,0,0\n0,b,20,1w,1w,1w,25,15,25,1w,1w,1w,20,b,0,0\n0,b,1w,1w,25,25,15,r,25,25,25,1w,1w,b,0,0\n0,b,1w,25,v,r,r,r,r,r,w,25,1w,b,0,0\n0,b,2b,v,10,10,10,10,10,10,10,w,2b,b,0,0\n11,10,c,2i,22,2i,2j,2j,2j,2i,22,s,c,b,0,0\n11,12,u,2j,2k,2k,z,2i,z,2j,2k,1n,14,1m,1o,0\n0,b,b,s,22,22,s,22,s,s,s,s,b,b,1o,0\nb,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,b,0,0,0,0,0,0,0,0,0,0,0,b,0,0\nWAL 11,a,b,c,d,j,r,s,y,10,1k,1s,1q,1z,22,2i,2l,2m,2v,2y,32,35,34,33,31,30,2x,2s,2r,3l\nEXT 1,12 7 11,10\nEXT 12,12 b 7,10\nPAL 3\n\nROOM 5\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,0\n0,1x,1x,24,24,24,24,24,24,24,24,24,24,1x,1x,0\n0,1x,24,24,24,20,20,20,20,20,20,24,24,24,1x,0\n0,1x,24,24,20,20,1w,1w,1w,1w,1w,20,24,24,1x,0\n0,1x,24,20,1w,1w,1w,2f,0,2g,1w,1w,20,24,1x,0\n0,1x,24,20,1w,1w,2c,2e,27,25,2d,1w,20,24,1x,0\n0,1x,24,20,1w,1w,1w,28,26,29,2d,1w,20,24,1x,0\n0,1x,24,20,1w,1w,1w,2c,2a,2d,1w,1w,20,24,1x,0\n0,1x,24,20,20,1w,1w,1w,2b,1w,1w,1w,20,24,1x,0\n0,1x,24,24,20,1w,1w,1w,1w,1w,20,20,20,24,1x,0\n0,1x,24,24,24,20,20,20,20,20,20,24,24,24,1x,0\n0,1x,24,24,24,24,24,24,24,24,24,24,24,24,1x,0\n0,1x,1x,24,24,24,24,24,24,24,24,24,24,1x,1x,0\n0,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL 22,2i,2l,2m,r,j,1z,11,10,a,2v,2y,32,35,34,33,31,30,2x,2s,2r,3l\nPAL 0\n\nROOM 6\n0,a,0,0,0,0,0,0,0,0,0,0,0,a,0,0\na,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,a,a,24,24,24,24,24,24,24,24,24,a,a,0,0\n0,a,24,24,24,24,24,24,24,24,24,24,24,a,0,0\n0,a,24,24,24,24,24,24,24,24,24,24,24,a,0,0\n0,a,24,24,24,24,20,20,20,24,24,24,24,a,0,0\n0,a,24,24,24,20,20,1w,20,20,24,24,24,a,0,0\n0,a,24,20,20,20,1w,15,1w,20,20,20,24,a,0,0\n0,a,20,20,1w,1w,15,r,1w,1w,1w,20,20,a,0,0\n0,a,20,1w,v,r,r,r,r,r,w,1w,20,a,0,0\n0,a,1w,v,10,10,10,10,10,10,10,w,1w,a,0,0\n11,10,c,2l,2m,2l,2j,2j,2j,2l,2m,s,c,a,0,0\n11,12,u,2j,2j,2j,z,2l,z,2j,2j,1n,14,1m,1o,0\n0,a,a,s,2m,2m,s,2m,s,s,s,s,a,a,1o,0\na,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,a,0,0,0,0,0,0,0,0,0,0,0,a,0,0\nWAL 11,a,b,c,d,j,r,s,y,10,1k,1s,1q,1z,22,2i,2l,2m,2v,2y,32,35,34,33,31,30,2x,2s,2r,3l\nEXT 1,12 0 12,11\nPAL 4\n\nROOM 7\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n11,10,1z,1z,1z,1z,1z,1z,1z,1z,1z,1z,1z,1z,a,0\n11,12,1y,1y,1y,1y,1y,1y,1y,1y,1y,1y,1y,1y,a,0\n0,a,1z,1z,k,i,h,j,r,o,p,0,1z,1z,a,0\n0,a,1y,1y,e,g,f,1y,1y,n,g,m,1y,1y,a,0\n0,a,2n,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,a,0\n0,a,2o,2n,2o,2n,2o,2o,2o,2u,2n,2o,2o,2o,33,1o\n11,35,2o,2o,2o,2o,2n,2o,2o,2t,2o,31,2v,2x,0,0\n0,30,2y,2n,2o,2n,2t,2o,2n,2o,2o,2o,2w,2x,32,1o\n11,30,2z,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,31,a,0\n0,a,2n,2o,2o,2o,2o,2n,3m,2n,2o,2o,2o,0,34,12\n0,a,2o,2o,2t,2o,2o,2o,2o,2o,2o,2o,2o,2v,2x,0\n0,a,2o,2o,2o,2o,2n,2o,2t,2o,2n,2o,2o,2w,2x,12\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL 2t,2u,2l,r,j,1z,11,10,a,2v,2y,2i,32,35,34,33,31,30,2x,2s,2r,3l\nEXT 12,9 3 2,12\nEXT 1,3 0 12,11\nEXT 2,10 9 3,3\nPAL 0\n\nROOM 8\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,0,0\n0,a,0,1s,1q,1q,1s,1q,1q,1s,1q,1s,1q,a,0,0\n0,a,1s,1q,1q,1q,1q,36,36,36,36,36,1q,a,0,0\n0,a,1q,1q,1q,36,36,2o,2o,2s,2o,2s,36,a,0,0\n0,a,1s,1q,36,2o,2o,2o,2o,2r,2o,2r,37,a,0,0\n0,a,1q,36,2o,2o,2o,2o,2o,2s,2o,2o,2s,a,0,0\n0,a,1q,2o,2o,2o,2o,2o,2o,2r,2s,2o,2r,a,0,0\n0,a,36,2o,2o,2o,2o,2o,2o,2o,2r,2o,37,a,0,0\n11,35,37,2o,2o,2o,2o,2o,2o,2o,2o,2s,37,34,12,0\n0,30,2y,2o,2o,2o,2o,2o,2o,2o,2o,2r,2v,2x,0,0\n11,30,2z,37,2o,2o,2o,2o,2o,2s,2o,37,2w,2x,12,0\n0,a,39,38,37,2o,2o,37,37,2r,37,38,39,a,0,0\n0,a,3b,39,38,38,38,38,37,37,38,39,3b,a,0,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL a,2s,2r,2y,30,35,1q,2v,2x,3l\nEXT 2,11 a 11,10\nEXT 12,11 e 1,14\nPAL 2\n\nROOM 9\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,0,0\n0,a,1u,1u,1u,1u,1u,1u,1u,1u,1u,1u,1u,a,0,0\n3k,3j,3i,2h,2h,2h,2h,2h,2h,2h,2h,2h,2h,a,0,0\n3k,a,20,20,20,20,20,20,20,20,20,18,1a,a,0,0\n0,a,2h,2h,2h,2h,2h,2h,2h,2h,2h,17,19,a,0,0\n0,a,1f,1d,1x,1x,1x,1x,1x,1x,1x,1x,1x,a,0,0\n0,a,1e,1c,2h,2h,2h,2h,2h,2h,2h,2h,2h,a,0,0\n0,a,1z,1z,1z,1z,1z,1z,1z,1z,1z,18,1a,a,0,0\n0,a,2h,2h,2h,2h,2h,2h,2h,2h,2h,17,19,a,0,0\n0,a,1f,1d,1w,1w,1w,1w,1w,1w,1w,1w,1w,a,0,0\n0,a,1e,1c,2h,2h,2h,2h,2h,2h,2h,2h,2h,a,0,0\n0,a,25,25,25,25,25,25,25,25,25,18,1a,a,0,0\n3k,3j,3i,2h,2h,2h,2h,2h,2h,2h,2h,17,19,a,0,0\n3k,a,a,a,a,a,a,a,a,a,a,a,a,a,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL 3j,3l,a,1u,1w,1x,1z,25,20\nEXT 2,3 7 3,11\nEXT 2,13 a 2,10\nPAL 0\n\nROOM a\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,0,0\n0,1x,s,s,s,s,s,s,s,s,s,s,s,1x,0,0\n0,1x,u,k,u,u,u,u,u,u,u,u,u,1x,0,0\n0,1x,s,x,s,s,s,s,s,s,s,18,1a,1x,0,0\n0,1x,s,x,s,3l,3l,16,16,16,16,17,19,1x,0,0\n0,1x,s,x,s,s,s,s,1f,1d,s,s,s,s,0,0\n0,1x,s,x,s,s,s,s,1e,1c,16,16,s,s,0,0\n0,1x,s,x,s,2f,0,2g,s,s,x,s,s,1x,0,0\n11,10,s,x,s,d,3d,d,s,s,x,s,s,1x,0,0\n11,12,u,x,u,l,3c,3l,u,u,z,1n,14,1m,1o,0\n0,1x,s,x,s,s,3g,3h,3g,3h,3g,3h,s,1x,1o,0\n0,1x,s,x,s,3g,3h,3g,3h,3g,3h,3f,s,1x,0,0\n0,1x,u,z,u,3e,3f,3e,3f,3e,3f,u,u,1x,0,0\n0,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL d,10,11,s,3d,3c,3e,3f,3g,3h,1x,3l\nEXT 1,10 9 3,13\nEXT 12,10 8 3,12\nPAL 2\n\nROOM b\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,b,b,x,22,22,22,22,22,22,22,22,x,b,b,0\n0,b,b,x,2k,2k,2k,2k,2k,2k,2k,2k,x,b,b,0\n0,b,b,x,2i,2i,2i,2i,2i,2i,2i,2i,x,b,b,0\n0,b,b,x,2k,2k,2k,2k,2j,2j,2j,2j,x,b,b,0\n0,b,b,x,r,15,2i,15,2l,2l,2m,2l,x,b,b,0\n0,b,b,x,2k,2k,2k,2j,2j,1l,0,2j,x,b,b,0\n0,b,b,x,2i,r,15,r,r,15,s,r,x,b,b,0\n0,b,b,x,2h,2h,2h,2h,14,2h,2h,2h,x,b,b,0\n0,b,b,x,3o,d,3p,d,0,d,3o,d,x,b,b,0\n0,b,b,x,2h,2h,2h,2h,2h,2h,2h,2h,x,b,b,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL 3o,b,r,15,1l,22,2i,2l,2m,s,d,3p\nEXT 8,10 3 11,12\nPAL 3\n\nROOM d\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,b,24,47,20,1w,25,0,44,0,44,0,1w,20,b,0\n0,b,47,20,1w,25,0,42,0,46,0,44,0,1w,b,0\n0,b,20,1w,25,0,40,41,43,0,46,0,1w,20,b,0\n0,b,20,1w,25,0,3q,3y,3r,0,0,1w,20,47,b,0\n0,b,20,1w,25,0,3s,3u,3t,0,25,1w,20,47,b,0\n0,b,20,1w,25,0,3w,3v,3z,0,25,1w,20,47,b,0\n0,b,47,20,1w,25,0,3x,0,25,1w,20,1w,20,b,0\n0,b,24,47,20,1w,25,25,25,1w,20,1w,25,1w,b,0\n0,b,24,24,47,20,1w,1w,1w,20,1w,25,24,25,b,0\n0,b,24,24,24,47,20,20,20,1w,25,0,24,0,b,0\n0,b,24,24,24,24,47,20,1w,25,0,0,0,0,b,0\n0,b,24,24,24,24,47,20,1w,25,25,0,4a,0,b,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL b,25\nEXT 12,13 i 12,12\nPAL 0\n\nROOM e\n1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x\n1x,s,4d,s,s,s,s,s,s,s,s,s,s,s,s,0\n1x,s,4c,s,s,1z,1z,1z,1z,1z,s,s,4b,s,4c,1x\n1x,s,4d,4c,1z,1z,1z,1z,1z,1z,1z,s,4c,4d,4d,1x\n1x,4d,4c,4d,4b,1z,1z,1z,1z,1z,s,s,4d,4c,4c,1x\n1x,4c,4b,4c,u,u,u,u,u,u,u,4c,4c,4b,4d,1x\n1x,4c,s,k,i,h,j,s,s,r,o,p,q,s,4c,1x\n1x,3n,3m,e,g,f,3m,3l,3m,4b,n,g,m,4c,3m,1x\n1x,3l,3l,3l,0,0,3n,0,0,0,0,0,0,0,3n,1x\n1x,3l,0,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,3l,1x\n1x,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,1x\n1x,37,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,37,1x\n1x,37,37,37,2o,2o,2o,2o,2o,2o,2o,2o,37,37,37,1x\n30,2y,38,37,37,37,37,37,37,37,37,37,37,38,38,1x\n30,2z,38,38,38,38,38,38,38,38,38,38,38,38,39,1x\n1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x,1x\nWAL a,4b,4c,4d,3n,3m,3l,s,1z,j,r,1x,2y,30,2z\nEXT 5,5 f 8,6\nPAL 1\n\nROOM f\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,3o,0,0,3o,0,0,0,0,0,0\n0,0,0,0,0,0,48,0,0,49,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nEXT 6,3 g 2,10\nEND 0 9,3\nPAL 5\n\nROOM g\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n11,10,1z,1z,1z,1z,1z,1z,1z,1z,1z,1z,1z,1z,a,0\n11,12,1y,1y,1y,1y,1y,1y,1y,1y,1y,1y,1y,1y,a,0\n0,a,1z,1z,k,i,h,j,r,o,p,0,1z,1z,a,0\n0,a,1y,1y,e,g,f,1y,1y,n,g,m,1y,1y,a,0\n0,a,2n,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,a,0\n0,a,2o,2n,2o,2n,2o,2o,2o,2u,2n,2o,2o,2o,33,1o\n11,35,2o,2o,2o,2o,4e,2o,2o,2t,2o,31,2v,2x,0,0\n0,30,2y,2n,2o,2n,2t,2o,2n,2o,2o,2o,2w,2x,32,1o\n11,30,2z,2o,2o,2o,2o,2o,2o,2o,2o,2o,2o,31,a,0\n0,a,2n,2o,4e,2o,2o,2n,3m,2n,2o,2o,2o,0,34,12\n0,a,2o,2o,2t,2o,2o,2o,2o,2o,2o,2o,2o,2v,2x,0\n0,a,2o,2o,2o,2o,2n,2o,2t,2o,2n,2o,2o,2w,2x,12\n0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL 2t,2u,2l,r,j,1z,11,10,a,2v,2y,2i,32,35,34,33,31,30,2x,2s,2r,3l\nEXT 13,13 h 8,12\nPAL 0\n\nROOM h\n0,0,b,0,0,0,0,0,0,0,0,0,0,b,0,0\n0,0,0,b,b,b,b,b,b,b,b,b,b,0,0,0\n0,0,0,b,b,4f,4f,4f,4f,4f,4f,b,b,0,0,0\n0,0,0,b,4f,4f,4f,1w,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,1w,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,x,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,x,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,x,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,x,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,x,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,x,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,4f,4f,4f,x,4f,4f,4f,4f,b,0,0,0\n0,0,0,b,b,4f,4f,z,4f,4f,4f,b,b,0,0,0\n0,0,0,b,b,b,b,b,b,b,b,b,b,0,0,0\n0,0,b,0,0,0,0,0,0,0,0,0,0,b,0,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL 4f\nEXT 7,4 d 12,12\nPAL 0\n\nROOM i\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,b,24,47,20,1w,25,0,44,0,44,0,1w,20,b,0\n0,b,47,20,1w,25,0,42,0,46,0,44,0,1w,b,0\n0,b,20,1w,25,0,40,41,43,0,46,0,1w,20,b,0\n0,b,20,1w,25,0,3q,3y,3r,0,0,1w,20,47,b,0\n0,b,20,1w,25,0,3s,3u,3t,0,25,1w,20,47,b,0\n0,b,20,1w,25,0,3w,3v,3z,0,25,1w,20,47,b,0\n0,b,47,20,1w,25,0,3x,0,25,1w,20,1w,20,b,0\n0,b,24,47,20,1w,25,25,25,1w,20,1w,25,1w,b,0\n0,b,24,24,47,20,1w,1w,1w,20,1w,25,24,25,b,0\n0,b,24,24,24,47,20,20,20,1w,25,0,24,0,b,0\n0,b,24,24,24,24,47,20,1w,25,0,48,0,49,b,0\n0,b,24,24,24,24,47,20,1w,25,25,0,0,0,b,0\n0,b,b,b,b,b,b,b,b,b,b,b,b,b,b,0\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nWAL b,25\nEND 1 13,12\nEND 2 11,12\nPAL 0\n\nTIL 10\n01011010\n10000000\n10011110\n11100001\n10000000\n00000000\n00000000\n00000000\n\nTIL 11\n00000000\n00000000\n00000000\n00000000\n01000001\n10100010\n10001100\n01110000\n\nTIL 12\n00000000\n00000000\n00000000\n00000000\n11100000\n00011000\n00000100\n00000010\n\nTIL 13\n01001000\n00000000\n00101000\n00000010\n10000000\n00000100\n00100000\n00000000\n>\n00000000\n00101000\n00000100\n01000000\n00000010\n01000000\n00000000\n00010010\n\nTIL 14\n11111101\n11001110\n10000111\n00000011\n00000011\n00000011\n00000011\n11111111\n\nTIL 15\n00010000\n00010000\n00111000\n00111000\n01111101\n01111101\n11111111\n11111111\n\nTIL 16\n00001000\n10001000\n00011001\n00010001\n10010001\n00000000\n10101010\n01010101\n\nTIL 17\n00011100\n00100011\n00011100\n01100011\n00011100\n11100011\n10111100\n01010111\n\nTIL 18\n00000000\n00000001\n00000000\n00000011\n00000100\n00000011\n00001100\n00000011\n\nTIL 19\n01110001\n10000001\n01100001\n10000001\n01000001\n10000001\n10101010\n01010101\n\nTIL 20\n11001111\n10111001\n10100110\n11011010\n01011011\n01100101\n10011101\n11110011\n\nTIL 21\n11111111\n11111111\n11110111\n11111011\n10000001\n11111111\n11111111\n11111111\n\nTIL 22\n00011000\n01101110\n01100110\n10110101\n10100101\n10101101\n10100101\n10110101\n>\n00011000\n01100110\n01110110\n10100101\n10101101\n10100101\n10110101\n10100101\n\nTIL 23\n10000100\n10000100\n01001000\n01001000\n11111111\n01001000\n10101010\n01010101\n\nTIL 24\n11111111\n11111111\n11111111\n11111111\n11111111\n11111111\n11111111\n11111111\n\nTIL 25\n00011000\n01100010\n00001010\n10100001\n10000101\n01010000\n01000110\n00011000\n\nTIL 26\n11100010\n01110110\n10100100\n01110100\n10100100\n01110100\n10100100\n01110100\n\nTIL 27\n00000000\n00000000\n00000000\n00000000\n10100000\n11010001\n10100001\n01010010\n\nTIL 28\n11111010\n11110101\n11111010\n00111101\n01011110\n11010111\n10110101\n10100101\n\nTIL 29\n00000011\n00000111\n00001011\n00010110\n00101101\n01011101\n10111101\n01010101\n\nTIL 30\n01011111\n11100111\n01011001\n11101111\n01111111\n10011111\n01100111\n10011001\n\nTIL 31\n00111100\n01000010\n10100101\n01000001\n10100101\n01010001\n00101110\n00011000\n>\n00111100\n01000010\n10000001\n01011001\n10100001\n01010001\n00101110\n00011000\n\nTIL 32\n01100111\n10011001\n01100001\n10011001\n10011001\n10000001\n11000011\n11111111\n\nTIL 33\n11111111\n11001100\n10110000\n11000000\n00000000\n00000000\n00000000\n00000000\n\nTIL 34\n11111111\n11000011\n10000001\n10011001\n10011011\n10001100\n11110000\n11000000\n\nTIL 35\n11111111\n11000011\n10000001\n10011001\n11011001\n00110001\n00001101\n00000011\n\nTIL 36\n10000100\n11001100\n01001000\n01001000\n01001011\n10000100\n01111000\n00000000\n\nTIL 37\n00000111\n00011100\n01110000\n11000001\n00000111\n00011100\n01110000\n11000001\n\nTIL 38\n10000111\n00011110\n01111000\n11100001\n10000111\n00011110\n01111000\n11100001\n\nTIL 39\n10001111\n00111110\n11111000\n11100011\n10001111\n00111110\n11111000\n11100011\n\nTIL 40\n00011000\n01100000\n11010100\n10101001\n01010000\n10101001\n11010100\n01101010\n\nTIL 41\n00001001\n01000001\n00010011\n10000111\n01101110\n00111100\n01011100\n00001000\n\nTIL 42\n00000101\n00011001\n01110000\n01000000\n00000000\n00111100\n10000001\n00000000\n\nTIL 43\n00100000\n00000100\n00010010\n00000010\n00010001\n10000000\n00000010\n00000000\n\nTIL 44\n00000000\n00011111\n00100001\n01011010\n00100100\n01011000\n10000000\n10000000\n\nTIL 45\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n\nTIL 46\n00000011\n00001101\n00110011\n11000010\n00000000\n00000010\n00000100\n00111000\n\nTIL 47\n11111111\n10111001\n10100111\n11011011\n11011011\n11100101\n10011101\n11111111\n\nTIL 48\n01000010\n01000010\n01000110\n01001010\n00110100\n00011000\n00011000\n00011000\n\nTIL 49\n01000010\n01000010\n01100010\n01010010\n01101010\n01010110\n01001010\n01000010\n\nTIL a\n11111111\n11000011\n10000001\n10011001\n10011001\n10000001\n11000011\n11111111\n\nTIL c\n00011000\n01100110\n01000010\n10011001\n10011001\n10011001\n10011001\n10011001\n\nTIL b\n00011000\n01011010\n00000000\n11011011\n11011011\n00000000\n01011010\n00011000\n>\n10011001\n00011000\n00100100\n11000011\n11000011\n00100100\n00011000\n10011001\n\nTIL d\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000001\n\nTIL e\n00000000\n01111111\n00000000\n11111111\n00000000\n11111111\n00000000\n01111111\n\nTIL f\n00000111\n11110111\n00000111\n11100111\n00000101\n11100101\n00000101\n11110101\n\nTIL g\n00000000\n11111111\n00000000\n11111111\n00000000\n11111111\n00000000\n11111111\n\nTIL h\n00000000\n00011111\n00000000\n11111110\n00000001\n11111101\n00000011\n11111011\n\nTIL i\n00000000\n00000000\n00000000\n00001111\n00000000\n11111111\n00000000\n11111111\n\nTIL j\n00000000\n11111111\n01111001\n11111001\n11011001\n11011001\n10001001\n10001001\n\nTIL k\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00001111\n\nTIL l\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n11111111\n\nTIL m\n00000000\n11111110\n00000000\n11111111\n00000000\n11111111\n00000000\n11111110\n\nTIL n\n11100000\n11101111\n11100000\n11100111\n10100000\n10100111\n10100000\n10101111\n\nTIL o\n00000000\n11111000\n00000000\n01111111\n10000000\n10111111\n11000000\n11011111\n\nTIL p\n00000000\n00000000\n00000000\n11110000\n00000000\n11111111\n00000000\n11111111\n\nTIL q\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n11110000\n\nTIL r\n00000000\n11111111\n10011100\n10011111\n10011011\n10011011\n10010001\n10010001\n\nTIL s\n10011001\n10011001\n10011001\n10010001\n10011001\n10011001\n10011001\n10011001\n\nTIL t\n00001001\n10010000\n10010001\n00001001\n10011000\n10001001\n00011000\n10001001\n\nTIL u\n10010001\n00001001\n10001001\n00001000\n10010001\n10010001\n00001001\n11111111\n\nTIL v\n00000111\n00011000\n00100001\n01000111\n10001100\n10011001\n10011011\n01001001\n\nTIL w\n11100000\n00011000\n10000100\n11100010\n00110001\n10011001\n11011001\n10010010\n\nTIL x\n10011001\n10100101\n10011001\n10100101\n10011001\n10100101\n10011001\n10100101\n\nTIL y\n01000000\n00000100\n00100000\n00000010\n00000000\n01000001\n00000100\n00000000\n>\n00000000\n01000000\n00000010\n00000000\n01000010\n00000000\n00000010\n00101000\n\nTIL z\n10011001\n10100101\n10011001\n10100101\n10011001\n10100101\n10000001\n11111111\n\nTIL 1a\n01111010\n10001111\n01110000\n10001110\n01110000\n10001101\n01110001\n10001001\n\nTIL 1c\n00111000\n11000100\n00111000\n11000110\n00111000\n11000111\n00111010\n11010101\n\nTIL 1d\n00000000\n10000000\n00000000\n11000000\n00100000\n11000000\n00110000\n11000000\n\nTIL 1e\n10001110\n10000001\n10000110\n10000001\n10000010\n10000001\n10101010\n01010101\n\nTIL 1f\n10101110\n01110001\n10001110\n01110001\n00001110\n10110001\n10001110\n10010001\n\nTIL 1g\n00000000\n01111111\n00000000\n01111111\n00000000\n00011111\n00000000\n11111111\n\nTIL 1h\n00000000\n00000000\n00000000\n00000000\n00000000\n00000111\n00000000\n00111111\n\nTIL 1i\n10000011\n11111011\n10000101\n11001001\n10111001\n11011001\n10011001\n10011001\n\nTIL 1j\n00111000\n01000100\n10000000\n10000000\n10000000\n10000000\n10000000\n11111111\n\nTIL 1k\n10011001\n10011001\n10011001\n10011001\n10011001\n10011001\n10011001\n11111111\n\nTIL 1l\n00000000\n00000000\n00000000\n00010000\n00010000\n00001000\n00000000\n11111111\n>\n00000000\n00000000\n00000000\n00001000\n00010000\n00110000\n00000000\n11111111\n\nTIL 1m\n01010100\n10101010\n01010100\n11111110\n11111000\n11111111\n11111100\n11111111\n\nTIL 1n\n11111111\n11111111\n11111010\n11110101\n11101010\n11110101\n11111010\n11111111\n\nTIL 1o\n10000010\n01000101\n00110001\n00001110\n00000000\n00000000\n00000000\n00000000\n\nTIL 1p\n10000100\n10000100\n01001000\n01001000\n01001000\n01001000\n10000100\n10000100\n\nTIL 1q\n10000100\n11001100\n11001100\n01001000\n01001000\n11001100\n11001100\n10000100\n\nTIL 1r\n10000100\n10000100\n01001000\n01001000\n01001000\n01001000\n10000100\n11111111\n\nTIL 1s\n00000000\n00000000\n00110000\n01001000\n10110100\n11111100\n10000100\n10000100\n\nTIL 1t\n10000100\n10000100\n01001000\n01001000\n01001000\n01001000\n10101010\n01010101\n\nTIL 1u\n10001111\n11001110\n11101100\n11111000\n00011111\n00110111\n01110011\n11110001\n\nTIL 1v\n00001110\n10001100\n11001000\n11100000\n00000000\n00100111\n01100011\n11100001\n\nTIL 1w\n00110000\n01000110\n01011001\n00100101\n10100100\n10011010\n01100010\n00001100\n\nTIL 1x\n11101111\n10010001\n10100101\n10011010\n01011001\n10100101\n10001001\n11110111\n\nTIL 1y\n11000111\n10011001\n00100001\n01000010\n01000010\n10000100\n10011001\n11100011\n\nTIL 1z\n01000111\n10011001\n00100101\n01011010\n01011010\n10100100\n10011001\n11100010\n\nTIL 2a\n00100100\n00100100\n00100100\n00100100\n01000010\n01011010\n01000010\n00111100\n\nTIL 2b\n00010000\n00010000\n00100000\n00100000\n00010000\n00001000\n00001000\n00000000\n>\n00010000\n00001000\n00001000\n00001000\n00010000\n00100000\n00100000\n00000000\n\nTIL 2c\n00011100\n00100110\n00101101\n01010011\n00101101\n00101010\n00010110\n00010101\n\nTIL 2d\n11110000\n11101000\n10010100\n11101010\n10101010\n01011010\n01010000\n01010000\n\nTIL 2e\n00011000\n01100010\n00001010\n10100001\n10000101\n11010000\n11000110\n11111000\n\nTIL 2f\n00000111\n00011000\n00100000\n01000000\n01000000\n10000000\n10000000\n10000000\n\nTIL 2g\n11100000\n00011000\n00000100\n00000010\n00000010\n00000001\n00000001\n00000001\n\nTIL 2h\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n10101010\n01010101\n\nTIL 2i\n00111100\n01000010\n10000001\n00100101\n10000001\n00000001\n10100101\n11111111\n>\n00111100\n01000010\n10000001\n00000001\n10011001\n00011001\n10000001\n11111111\n\nTIL 2j\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n00000000\n11111111\n\nTIL 2k\n00011000\n00010000\n00000000\n00001000\n00000000\n00010000\n00000000\n11111111\n>\n00011000\n00000000\n00001000\n00000000\n00010000\n00000000\n00001000\n11111111\n\nTIL 2l\n00111100\n01000010\n10000001\n00000001\n10000001\n00000001\n10000001\n11111111\n\nTIL 2m\n00011000\n01100110\n01100110\n10100101\n10100101\n10100101\n10100101\n10100101\n\nTIL 2n\n00000100\n00001000\n00001000\n00100000\n01000010\n01000100\n00000100\n00000000\n\nTIL 2o\n00000011\n00001100\n00110000\n11000000\n00000011\n00001100\n00110000\n11000000\n\nTIL 2p\n00000000\n00000000\n00100100\n10000001\n00000000\n10000001\n00100100\n00000000\n\nTIL 2q\n00000000\n00100100\n10000001\n00000000\n10000001\n00100100\n00000000\n00000000\n\nTIL 2r\n10100101\n10001001\n01000001\n00100001\n00111101\n01100110\n00011100\n00000110\n\nTIL 2s\n00000000\n00110000\n01001100\n01000010\n10010010\n10100010\n10001010\n10010001\n\nTIL 2t\n01111100\n10011010\n11000001\n10100111\n10011001\n01000001\n00100110\n00011000\n\nTIL 2u\n00000000\n01110000\n01011000\n00111100\n00111110\n00111110\n00011110\n00011000\n\nTIL 2v\n00000011\n00001111\n00111111\n01000011\n01000011\n10000011\n10000011\n10000001\n\nTIL 2w\n10000001\n10000001\n10001101\n10110001\n11000001\n00000001\n00000001\n00000001\n\nTIL 2x\n11111010\n11100100\n10111110\n11101001\n11111110\n11111001\n11100110\n10011001\n\nTIL 2y\n11000000\n11110000\n11111100\n11000010\n11000010\n11000001\n11000001\n10000001\n\nTIL 2z\n10000001\n10000001\n10110001\n10001101\n10000011\n10000000\n10000000\n10000000\n\nTIL 3a\n00000010\n00001000\n00100000\n10000000\n00000010\n00001000\n00100000\n10000000\n\nTIL 3b\n11001111\n00111111\n11111100\n11110011\n11001111\n00111111\n11111100\n11110011\n\nTIL 3c\n00100110\n00100110\n00100110\n00010110\n00111100\n00001000\n00011100\n11111111\n\nTIL 3d\n00011000\n00101100\n00100110\n00100110\n00100110\n00100110\n00100110\n00100110\n\nTIL 3e\n00001000\n00010101\n00010000\n00101011\n00100000\n01010110\n01000000\n01111111\n\nTIL 3f\n00000110\n10101110\n00001110\n01011010\n00011010\n10110010\n00110000\n11110000\n\nTIL 3g\n00000000\n00000000\n00000111\n00000111\n00000111\n00000111\n00001010\n00001010\n\nTIL 3h\n00000000\n00000000\n11111100\n11111100\n11111100\n11111100\n10101110\n10100110\n\nTIL 3i\n10111111\n01110011\n11100001\n11000000\n11000000\n11000000\n11000000\n11111111\n\nTIL 3j\n00101010\n01010101\n00101010\n01111111\n00011111\n11111111\n00001111\n00111111\n\nTIL 3k\n00000111\n00111000\n01000000\n10000000\n10010000\n01100000\n00000000\n00000000\n\nTIL 3l\n11100000\n10100000\n11110000\n10101000\n11110100\n10100010\n11110101\n10101000\n>\n10100000\n11100000\n10110000\n11101000\n10100100\n11101010\n10110001\n11101010\n\nTIL 3m\n11000001\n10111001\n10000111\n11111111\n10000001\n11111111\n10000001\n11111111\n\nTIL 3n\n10000001\n10000111\n11011001\n10100001\n10010001\n10001001\n10000101\n11111111\n\nTIL 3o\n01011010\n00100100\n01011000\n00000100\n00100000\n00000000\n00000000\n00000000\n>\n00011001\n10100100\n00111010\n00000000\n00010000\n00000000\n00000000\n00000000\n\nTIL 3p\n00011000\n00100100\n00010000\n00000000\n00000000\n00000000\n00000000\n00000000\n\nTIL 3q\n00001010\n01110101\n10001010\n10111101\n10100110\n01011001\n00001001\n00000110\n\nTIL 3r\n00000000\n00001110\n00010001\n00111101\n01100101\n10011010\n10010000\n01100000\n\nTIL 3s\n11010010\n11101100\n01111000\n00111100\n00000100\n00000101\n00001001\n00001001\n\nTIL 3t\n00100101\n00011001\n00000010\n10100100\n10101000\n10100000\n10010000\n10010000\n\nTIL 3u\n01001010\n01001010\n10001001\n10011100\n10011100\n00100100\n00100100\n00100100\n\nTIL 3v\n00100100\n00100110\n00100110\n00100110\n01100110\n01100111\n00100111\n11100111\n\nTIL 3w\n00110011\n00100011\n00100111\n00100110\n01100110\n01000010\n01111100\n00000111\n\nTIL 3x\n00100100\n01100110\n01000010\n01000010\n00111100\n00000000\n00000000\n00000000\n\nTIL 3y\n00000000\n10100000\n01010000\n10110001\n11010010\n11100100\n01110010\n00100010\n\nTIL 3z\n01001000\n01000100\n01100010\n01110010\n00100001\n00011110\n00001000\n11110000\n\nTIL 4a\n00000000\n00001000\n00000100\n01111010\n00000001\n01111010\n00000100\n00001000\n\nTIL 4b\n10000101\n11111111\n10101001\n10101001\n11111111\n11001101\n11001101\n11111111\n\nTIL 4c\n10000001\n11111111\n10101101\n10101101\n11111111\n10010101\n10010101\n11111111\n\nTIL 4d\n10000001\n11111111\n10101001\n10101001\n11111111\n10111101\n10111101\n11111111\n\nTIL 4e\n00000110\n00011001\n00101000\n00110000\n01111000\n01111100\n01111100\n00011000\n\nTIL 4f\n00110000\n01000110\n01011001\n00100101\n10100100\n10011010\n01100010\n00001100\n>\n00010000\n00100000\n00101110\n00110001\n10001100\n01110100\n00000100\n00001000\n\nSPR 10\n11101111\n10010001\n10100101\n10011010\n01011001\n10100101\n10001001\n11110111\nPOS 9 8,6\n\nSPR 11\n01000111\n10011001\n00100101\n01011010\n01011010\n10100100\n10011001\n11100010\nPOS 9 7,8\n\nSPR 12\n00110000\n01000110\n01011001\n00100101\n10100100\n10011010\n01100010\n00001100\nPOS 9 9,10\n\nSPR 13\n00011000\n01100010\n00001010\n10100001\n10000101\n01010000\n01000110\n00011000\nPOS 9 4,12\n\nSPR 14\n11100000\n10100000\n11110000\n10101000\n11100100\n10101010\n11110001\n10101010\n>\n10100000\n11100000\n10110000\n11101000\n10110100\n11100010\n10110101\n11101000\nPOS a 6,5\n\nSPR 15\n00000110\n00011001\n00101000\n00110000\n01111000\n01111100\n01111100\n00111111\n>\n00000111\n00011000\n00101000\n00111100\n01111110\n01111110\n01111110\n00111111\nPOS 8 11,7\n\nSPR 16\n00000000\n00000000\n00111110\n01111010\n11111101\n11111000\n11111000\n01111110\n>\n00000000\n00111000\n01111110\n11111010\n11111101\n11111100\n01111000\n01111110\nPOS 8 8,12\n\nSPR 17\n00000110\n00011001\n00101000\n00110000\n01111000\n01111100\n01111100\n00111111\n>\n00000111\n00011000\n00101000\n00111100\n01111110\n01111110\n01111110\n00111111\nPOS 8 9,8\n\nSPR 18\n00011000\n00101000\n01001100\n00011100\n00011010\n01111010\n01010000\n11111111\nPOS b 9,4\n\nSPR 19\n00000000\n01111110\n00011000\n00011000\n00011000\n00011000\n00000000\n00000000\nPOS c 6,11\n\nSPR A\n00001110\n00111010\n01111101\n01111100\n11111100\n11111100\n11111000\n01010100\n>\n00111110\n01111010\n11111101\n11111110\n11111110\n11111100\n11111000\n01010100\nPOS 0 0,13\n\nSPR a\n10000000\n01000101\n11000111\n10011111\n11111110\n00111100\n00111100\n00100100\n>\n11000000\n10000101\n10000111\n01011111\n01111110\n00111100\n00111100\n00100100\nPOS 0 2,10\n\nSPR b\n00011000\n01100110\n01000010\n10100101\n10011001\n10111101\n10011001\n10100101\nPOS 0 2,12\n\nSPR c\n00000000\n00111100\n01000010\n01000010\n01000010\n01000010\n01000010\n01000010\nPOS 2 6,7\n\nSPR d\n00000000\n00111100\n01000010\n01000010\n01000010\n01000010\n01000010\n01000010\nPOS 2 4,7\n\nSPR e\n00111100\n01000010\n10000001\n00100101\n10000001\n00000001\n10100101\n11111111\n>\n00111100\n01000010\n10000001\n00000001\n10011001\n00011001\n10000001\n11111111\nPOS 0 13,13\n\nSPR f\n00010000\n00010000\n01111110\n01000010\n01010010\n01001010\n01111110\n00000000\nPOS 0 10,11\n\nSPR g\n00001000\n00001000\n00011100\n00101010\n00101010\n00010100\n00010100\n00000000\n\nSPR h\n00000000\n00010000\n00011000\n00001100\n00001100\n00111100\n00101000\n11111111\nPOS 2 8,7\n\nSPR i\n00100000\n00111000\n00011100\n00101110\n01011101\n00010100\n10101010\n01010101\nPOS 1 12,11\n\nSPR j\n00000100\n00011100\n00111000\n01110100\n10111010\n00101000\n10101010\n01010101\nPOS 1 2,11\n\nSPR k\n00000000\n00000000\n00010000\n00011000\n00001100\n00011100\n01111110\n11111111\nPOS 1 11,7\n\nSPR l\n00000000\n00000100\n00001100\n00011000\n00011000\n00011110\n00001010\n11111111\nPOS 1 9,7\n\nSPR m\n00000000\n00010000\n00011000\n00001100\n00001100\n00111100\n00101000\n11111111\nPOS 7 13,13\n\nSPR n\n00111100\n01000010\n10000001\n00010001\n10000101\n00100001\n10001001\n11111111\n>\n00111100\n01000010\n10000001\n00000001\n10011001\n00011001\n10000001\n11111111\nPOS 3 5,11\n\nSPR o\n00000100\n00111010\n01010101\n00111000\n01111101\n11010101\n11101101\n11111111\nPOS 7 8,11\n\nSPR p\n01111101\n01111101\n01111101\n01111100\n01111000\n01111000\n00111000\n00011000\nPOS 7 8,12\n\nSPR q\n00011000\n00111100\n01010110\n01110111\n10010011\n10111001\n00011110\n00011100\nPOS 7 6,8\n\nSPR r\n00000110\n00011001\n00101000\n00110000\n01111000\n01111100\n01111100\n00011000\nPOS 7 4,11\n\nSPR s\n00000000\n00000000\n00111110\n01111010\n11111101\n11111000\n11111000\n01111110\n>\n00000000\n00111000\n01111110\n11111010\n11111101\n11111100\n01111000\n01111110\nPOS a 5,10\n\nSPR t\n00000000\n00100000\n11000000\n10100000\n11111010\n01111111\n00111110\n00111101\n>\n00000000\n00100000\n11000000\n10111100\n11111110\n01111111\n01111110\n00111101\nPOS 8 8,5\n\nSPR u\n00001000\n00010101\n00010000\n00101011\n00100000\n01010110\n01000000\n01111111\nPOS a 5,13\n\nSPR v\n00000110\n10101110\n00001110\n01011010\n00011010\n10110010\n00110000\n11110000\nPOS a 6,13\n\nSPR w\n00000000\n00000000\n00000111\n00000111\n00000111\n00000111\n00001010\n00001010\nPOS a 5,12\n\nSPR x\n00000000\n00000000\n11111100\n11111100\n11111100\n11111100\n10101110\n10100110\nPOS a 6,12\n\nSPR y\n10001111\n11001110\n11101100\n11111000\n00011111\n00110111\n01110011\n11110001\nPOS 9 6,2\n\nSPR z\n11001111\n10111001\n10100110\n11011010\n01011011\n01100101\n10011101\n11110011\nPOS 9 5,4\n\nSPR 1a\n01110000\n10010010\n00111010\n00011110\n00011010\n01111010\n01010010\n11111111\nPOS b 10,8\n\nSPR 1b\n00011000\n00010100\n00111010\n00111000\n01010000\n01011110\n00001010\n11111111\nPOS b 5,6\n\nSPR 1c\n01011010\n00100100\n01011010\n00000000\n00010000\n00000000\n00000000\n00000000\n>\n00011000\n01100101\n00011000\n10100100\n00000000\n00000000\n00000000\n00000000\nPOS b 8,11\n\nSPR 1d\n00001010\n00000000\n00111010\n01101000\n01111010\n10001100\n00011110\n00111111\nPOS d 12,10\n\nSPR 1e\n00111111\n00101101\n00101101\n01001011\n01001011\n00011111\n00010111\n00010101\nPOS h 8,4\n\nSPR 1f\n10000001\n11111111\n11011001\n11011001\n11111111\n10110101\n10110101\n11111111\nPOS e 4,5\n\nSPR 1g\n10000001\n11111111\n11011001\n11011001\n11111111\n10110101\n10110101\n11111111\nPOS f 7,6\n\nSPR 1h\n00000100\n00111010\n01010101\n00111000\n01111101\n11010101\n11101101\n11111111\nPOS g 8,11\n\nSPR 1i\n01111101\n01111101\n01111101\n01111100\n01111000\n01111000\n00111000\n00011000\nPOS g 8,12\n\nSPR 1j\n00001010\n00000000\n00111010\n01101000\n01111010\n10001100\n00011110\n00111111\nPOS h 8,3\n\nSPR 1k\n00111111\n00101101\n00101101\n01001011\n01001011\n00011111\n00010111\n00010101\nPOS d 12,11\n\nSPR 1l\n00111111\n00101101\n00101101\n01001011\n01001011\n00011111\n00010111\n00010101\nPOS i 12,11\n\nSPR 1m\n00001010\n00000000\n00111010\n01101000\n01111010\n10001100\n00011110\n00111111\nPOS i 12,10\n\nDLG 10\n'From the earth, our power and our wealth. We emerged with jewels that other races craved, and the power to bend the world in all its chronology and spatiality around us.'\n\nDLG 11\n'Time and Space were broken long before we came but we found ways to be sustained through all their convolutions.'\n\nDLG 12\nI wonder why, with all our wealth and might, we still saw our adopted home annexed so easily.\n\nDLG 13\nThe path to the library is so long. At least the books can still serve me in this one way, but I wish these paths had been made shorter.\n\nDLG 14\nBolts of shimmering fabric, newly jeweled and embroidered, have been stored here.\n\nDLG 15\nThis bug is not so utterly stupefied. From him I learn, in short, slurred bursts of scent, that they are 'on break' and will resume their weaving and jeweling soon.\n\nDLG 16\nIn shock, I approach this bug and ask where the books that once lined the library antechamber where they have gone. They are too engrossed in their own shimmering reflection to answer.\n\nDLG 17\nThis bug will only mutter Walking-Weaver's name. Has she returned to the city?\n\nDLG 18\nThis mold-ranger announces himself as High Swombh and asks if I have come on some errand from Walking-Weaver. I admit my ignorance of everything going on here and it explains happily, with a refreshingly-scented eloquence, that its crew is maintaining the power sources for the city while 'the revitalization' occurs. In return, they study our technology. Fair enough, I suppose, but to have other species maintaining our technology... is this the state of our civilization now that so many have gone deeper below to join our ancient brethren in the centurycities?\n\nDLG 19\ntest\n\nDLG a\nRiff-raff. In the city's ancient days such a beast would never have been permitted\n\nDLG b\nI should remember to clean this of dust sometime while I am here. Out of respect.\n\nDLG c\nThe door deeper into the city. I would love to enter but it's not possible in this demo.\n\nDLG d\nThe higher door. It's not passable in this test, frustratingly.\n\nDLG e\nDoes someone maintain these old systems, still, after all this time? That seems... ostentatious.\n\nDLG f\nIt's so worn I can't even read it. It doesn't matter--I know perfectly well where that tunnel leads.\n\nDLG m\nThis human is in my way and foolishly doesn't understand my scent signals or hand gestures. I cannot proceed further through this door at this time, frustratingly.\n\nDLG i\nThis human's eyes are compound like my own. It does not suit him. He stares my jeweled cloak in a way that is familiar, and uncomfortable. I leave quickly.\n\nDLG j\nI gather from this human's lip-flapping and hooting that they stumbled upon the city from the Deplotted Lands and decided to settle here for now. A final indignity.\n\nDLG k\nThis is one of their Old People. Strange that they should wander the world at their age, and unsightly. These strong young barbarians...\n\nDLG l\nThis one would buy books. He has no idea, of course, of the Library, nor a way in. This will be the easiest sale I ever make, if he is still here when I return.\n\nDLG n\nThe glow from these great engines persists even now, at the end of our history. I wonder, how much of the pollen in the skies over my city has been slowly falling through centuries, waiting for the moment when our engines finally grind to a halt?\n\nDLG p\nWhere did the Walking-Weaver, so tall and strange, come from? Is she our grim future? Or some basal offshoot of the ancient bloodlines?\n\nDLG q\nI would avoid this great square if I could, but the library lies to the west and to the east the city engines and-- The square is unavoidable.\n\nDLG r\nEven in a few steps I find myself feeling as though I'm drowning. Why did we build such open spaces? Does the world not have enough open spaces, that we should make more and fill them with these statuary husks?\n\nDLG t\nI prod this one with a pincer but he has passed out, overstimuated by the sight of his own gaudy costume. Luckily for me, the light he was shining on himself has gone out.\n\nDLG s\nSurprised to see a fellow bug here, blocking my way to the library, I approach them--and am nearly caught. They stare, stupefied, into a mirror that reflects the dizzying patterns on their clothes (patterns I recognize from my own). Luckily I do not look long and the kaleidoscope in front of my compound eyes does not snare me. These patterns are so much stronger than the ones I remember the Walking-Weaver showing us during the annexation. Are they new?\n\nDLG o\nWhere did the Walking-Weaver, so tall and strange, come from? Is she our grim future? Or some basal offshoot of the ancient bloodlines?\n\nDLG u\nA great loom, partly fitted with dazzling crystals. More looms rise up in the gloomy shadows, row upon row.\n\nDLG y\nWho was it, who once said to me: 'we became what we are when we forsook the skies and burrowed into the earth?'\n\nDLG z\n'Our shells became hard and our pincers learned the subtle movements that let us manipulate and master our world.\n\nDLG 1a\nA mold-ranger sits by an exhaust port, its tendrils drinking in energy. It coughs out a greeting and asks if the Weaver sent me. (Its acscent is terrible, but passable for a slime mold in armor.) It doesn't wait for a response but urges me on to talk to High Swombh.\n\nDLG 1b\nA mold ranger sits, a few tentacle-eyes extending from its cloth-beaked hood to study lines of pulsing energy. I try to engage it in conversation but its acscent is impenetrable, its spoors too alien to smell coherently. It waves me onward impatiently.\n\nDLG 1c\nThe glowing lights within the engine facilities have always attracted moths. I watch them for a time as they batter themselves senselessly against the glass. Such foolish things, to keep swarming back.\n\nDLG 1f\nThere are still some books that haven't been desecrated in the name of making room for looms and jeweled cloth. I should go up there and grab some.\n\nDLG 1g\nI have the books I need to sell. I can continue on now if I wish... but I can't shake the feeling that I should investigate Walking-Weaver's operation here. Is she trying to resurrect the city? I must decide: should I explore the city further?\n\nDLG 1k\nI was so young when the city began to die, when the Green Dragon Kingdoms fell and suddenly our sole trading partner was a distant and disinterested empire. Into this world Walking-Weaver came and brought new, more fabulous textiles and jewels in patterns like the ones I still wear now, weathered but beautiful after these many years. She gusts a smile at me as I stand before her now, her head feelers bobbing beneficently, as though she has been awaiting me.\n\nDLG 1l\nHer needle at the ready, Watching-Weaver leans in. The gills on her strangely alien body (I wonder again just where she came from) gust a question to me: will I take up a loom and join in our civilization's resurrection, and enjoy, in return, the splendor of her designs?\n\nEND 0\nI decided against it. I had books to sell, and that was enough to make my way in the world. The city will not rise from the dead, no matter what schemes Walking-Weaver develops. And if I am wrong... well, I will be back. I will always be back.\n\nEND 1\nI refused Watching-Weaver, somewhat reluctantly. She looked at the books I clutched protectively before me, and said: 'Go on, then, little bug, and sell your books, and hoard your jewels, and when their shine ceases to dazzle you, return to me and I will show you true splendor.' Now I sit and stare into the patterns of my robes and wonder when I shall find myself back in the city of my molting.\n\nEND 2\nThe light of her patterns pierces through every facet of my eyes. It is... beautiful.\n\n";
function startExportedGame() {
	attachCanvas( document.getElementById("game") );
	load_game(exportedGameData);
}
</script>

<script>
function Font() {


this.getData = function() {
	return fontdata;
}

var charSize = 6 * 8;
this.getChar = function(char) {
	var startIndex = char.charCodeAt(0) * charSize;
	return fontdata.slice( startIndex, startIndex + charSize );
}

var fontdata = [
		/* num: 0 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 1 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,1,0,1,1,
		0,1,0,0,0,1,
		0,1,0,1,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 2 */
		0,0,1,1,1,0,
		0,1,1,1,1,1,
		0,1,0,1,0,1,
		0,1,1,1,1,1,
		0,1,0,0,0,1,
		0,1,1,1,1,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 3 */
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,1,1,1,1,1,
		0,1,1,1,1,1,
		0,1,1,1,1,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 4 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,0,1,1,1,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/*0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,1,0,1,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,0,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,*/
		/* num: 5 */
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,1,1,1,1,1,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 6 */
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,1,1,1,1,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 7 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 8 */
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,0,0,1,1,
		1,1,0,0,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 9 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 10 */
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,0,0,0,0,1,
		1,0,1,1,0,1,
		1,0,1,1,0,1,
		1,0,0,0,0,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 11 */
		0,0,0,0,0,0,
		0,0,0,1,1,1,
		0,0,0,0,1,1,
		0,0,1,1,0,1,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 12 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 13 */
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,0,0,1,0,1,
		0,0,0,1,0,0,
		0,0,1,1,0,0,
		0,1,1,1,0,0,
		0,1,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 14 */
		0,0,0,0,1,1,
		0,0,1,1,0,1,
		0,0,1,0,1,1,
		0,0,1,1,0,1,
		0,0,1,0,1,1,
		0,1,1,0,1,1,
		0,1,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 15 */
		0,0,0,0,0,0,
		0,1,0,1,0,1,
		0,0,1,1,1,0,
		0,1,1,0,1,1,
		0,0,1,1,1,0,
		0,1,0,1,0,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 16 */
		0,0,1,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,1,0,
		0,0,1,1,1,1,
		0,0,1,1,1,0,
		0,0,1,1,0,0,
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 17 */
		0,0,0,0,1,0,
		0,0,0,1,1,0,
		0,0,1,1,1,0,
		0,1,1,1,1,0,
		0,0,1,1,1,0,
		0,0,0,1,1,0,
		0,0,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 18 */
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,1,1,1,1,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 19 */
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 20 */
		0,0,1,1,1,1,
		0,1,0,1,0,1,
		0,1,0,1,0,1,
		0,0,1,1,0,1,
		0,0,0,1,0,1,
		0,0,0,1,0,1,
		0,0,0,1,0,1,
		0,0,0,0,0,0,
		/* num: 21 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,0,1,1,0,0,
		0,0,1,0,1,0,
		0,0,0,1,1,0,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 22 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 23 */
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,1,1,1,1,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		/* num: 24 */
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 25 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,1,1,1,1,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 26 */
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,1,1,1,1,1,
		0,0,0,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 27 */
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,1,1,0,0,
		0,1,1,1,1,1,
		0,0,1,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 28 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 29 */
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,1,1,1,1,1,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 30 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,1,1,1,0,
		0,1,1,1,1,1,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 31 */
		0,1,1,1,1,1,
		0,1,1,1,1,1,
		0,0,1,1,1,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 32 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 33 */
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 34 */
		0,1,1,0,1,1,
		0,1,1,0,1,1,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 35 */
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,1,1,1,1,1,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,1,1,1,1,1,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 36 */
		0,0,1,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,0,0,
		0,0,0,0,1,0,
		0,1,1,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 37 */
		0,1,1,0,0,1,
		0,1,1,0,0,1,
		0,0,0,0,1,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,1,0,0,1,1,
		0,1,0,0,1,1,
		0,0,0,0,0,0,
		/* num: 38 */
		0,0,1,0,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,0,1,0,0,0,
		0,1,0,1,0,1,
		0,1,0,0,1,0,
		0,0,1,1,0,1,
		0,0,0,0,0,0,
		/* num: 39 */
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 40 */
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 41 */
		0,0,1,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 42 */
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,0,1,1,1,0,
		0,1,1,1,1,1,
		0,0,1,1,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 43 */
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 44 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,1,0,0,0,
		/* num: 45 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 46 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 47 */
		0,0,0,0,0,0,
		0,0,0,0,0,1,
		0,0,0,0,1,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,1,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 48 ZERO!!!!*/
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,1,1,
		0,1,0,1,0,1,
		0,1,1,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 49 */
		0,0,0,1,0,0,
		0,0,1,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 50 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,0,0,0,0,1,
		0,0,0,1,1,0,
		0,0,1,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 51 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,0,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 52 */
		0,0,0,0,1,0,
		0,0,0,1,1,0,
		0,0,1,0,1,0,
		0,1,0,0,1,0,
		0,1,1,1,1,1,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 53 */
		0,1,1,1,1,1,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 54 */
		0,0,0,1,1,0,
		0,0,1,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 55 */
		0,1,1,1,1,1,
		0,0,0,0,0,1,
		0,0,0,0,1,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 56 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 57 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,1,
		0,0,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 58 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 59 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,1,0,0,0,
		/* num: 60 */
		0,0,0,0,1,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,1,0,0,0,0,
		0,0,1,0,0,0,
		0,0,0,1,0,0,
		0,0,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 61 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 62 */
		0,0,1,0,0,0,
		0,0,0,1,0,0,
		0,0,0,0,1,0,
		0,0,0,0,0,1,
		0,0,0,0,1,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 63 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,0,0,0,0,1,
		0,0,0,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 64 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,1,1,1,
		0,1,0,1,0,1,
		0,1,0,1,1,1,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 65 Start of Capital Letters*/
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 66 */
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 67 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 68 */
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 69 */
		0,1,1,1,1,1,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 70 */
		0,1,1,1,1,1,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 71 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,0,
		0,1,0,1,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 72 */
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 73 */
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 74 */
		0,0,0,0,0,1,
		0,0,0,0,0,1,
		0,0,0,0,0,1,
		0,0,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 75 */
		0,1,0,0,0,1,
		0,1,0,0,1,0,
		0,1,0,1,0,0,
		0,1,1,0,0,0,
		0,1,0,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 76 */
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 77 */
		0,1,0,0,0,1,
		0,1,1,0,1,1,
		0,1,0,1,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 78 */
		0,1,0,0,0,1,
		0,1,1,0,0,1,
		0,1,0,1,0,1,
		0,1,0,0,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 79 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 80 */
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 81 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,1,0,1,
		0,1,0,0,1,0,
		0,0,1,1,0,1,
		0,0,0,0,0,0,
		/* num: 82 */
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 83 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 84 */
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 85 */
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 86 */
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,0,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 87 */
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,1,0,1,
		0,1,0,1,0,1,
		0,1,0,1,0,1,
		0,1,0,1,0,1,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 88 */
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,0,1,0,
		0,0,0,1,0,0,
		0,0,1,0,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 89 */
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,0,1,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 90 */
		0,1,1,1,1,0,
		0,0,0,0,1,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 91 */
		0,0,1,1,1,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 92 */
		0,0,0,0,0,0,
		0,1,0,0,0,0,
		0,0,1,0,0,0,
		0,0,0,1,0,0,
		0,0,0,0,1,0,
		0,0,0,0,0,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 93 */
		0,0,1,1,1,0,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 94 */
		0,0,0,1,0,0,
		0,0,1,0,1,0,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 95 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		/* num: 96 */
		0,0,1,1,0,0,
		0,0,1,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 97 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 98 */
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 99 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,0,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 100 */
		0,0,0,0,0,1,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 101 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 102 */
		0,0,0,1,1,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,1,1,1,1,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 103 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,1,
		0,0,1,1,1,0,
		/* num: 104 */
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 105 */
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		/* num: 106 */
		0,0,0,0,1,0,
		0,0,0,0,0,0,
		0,0,0,1,1,0,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		/* num: 107 */
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,1,0,0,
		0,1,1,0,0,0,
		0,1,0,1,0,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 108 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		/* num: 109 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,0,1,0,
		0,1,0,1,0,1,
		0,1,0,1,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 110 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 111 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 112 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		/* num: 113 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,1,
		/* num: 114 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,1,1,0,
		0,0,1,0,0,1,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,1,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 115 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 116 */
		0,0,0,0,0,0,
		0,0,1,0,0,0,
		0,1,1,1,1,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 117 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,1,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 118 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,0,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 119 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,1,0,1,
		0,1,1,1,1,1,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 120 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 121 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,1,1,0,0,0,
		/* num: 122 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,1,0,
		0,0,1,1,0,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 123 */
		0,0,0,1,1,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,1,1,0,0,0,
		0,0,1,0,0,0,
		0,0,1,0,0,0,
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		/* num: 124 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 125 */
		0,0,1,1,0,0,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,0,0,1,1,
		0,0,0,0,1,0,
		0,0,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 126 */
		0,0,1,0,1,0,
		0,1,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 127 */
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,1,0,1,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 128 */
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,1,1,0,0,
		/* num: 129 */
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,1,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 130 */
		0,0,0,0,1,1,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 131 */
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 132 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 133 */
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 134 */
		0,0,1,1,1,0,
		0,0,1,0,1,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 135 */
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,0,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,1,1,0,0,
		/* num: 136 */
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 137 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 138 */
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 139 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		/* num: 140 */
		0,0,0,1,0,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		/* num: 141 */
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		/* num: 142 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,1,0,1,0,
		0,1,0,0,0,1,
		0,1,1,1,1,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 143 */
		0,0,1,1,1,0,
		0,0,1,0,1,0,
		0,0,1,1,1,0,
		0,1,1,0,1,1,
		0,1,0,0,0,1,
		0,1,1,1,1,1,
		0,1,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 144 */
		0,0,0,0,1,1,
		0,0,0,0,0,0,
		0,1,1,1,1,1,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 145 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,1,0,1,
		0,1,1,1,1,1,
		0,1,0,1,0,0,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 146 */
		0,0,1,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,1,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,1,1,
		0,0,0,0,0,0,
		/* num: 147 */
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 148 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 149 */
		0,1,1,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 150 */
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,1,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 151 */
		0,1,1,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,1,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 152 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,1,1,0,0,0,
		/* num: 153 */
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 154 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 155 */
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 156 */
		0,0,0,1,1,0,
		0,0,1,0,0,1,
		0,0,1,0,0,0,
		0,1,1,1,1,0,
		0,0,1,0,0,0,
		0,0,1,0,0,1,
		0,1,0,1,1,1,
		0,0,0,0,0,0,
		/* num: 157 */
		0,1,0,0,0,1,
		0,0,1,0,1,0,
		0,0,0,1,0,0,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 158 */
		0,1,1,0,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,1,0,1,0,
		0,1,0,1,1,1,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 159 */
		0,0,0,0,1,0,
		0,0,0,1,0,1,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,1,0,1,0,0,
		0,0,1,0,0,0,
		/* num: 160 */
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 161 */
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		/* num: 162 */
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 163 */
		0,0,0,1,1,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,1,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 164 */
		0,0,1,0,1,0,
		0,1,0,1,0,0,
		0,0,0,0,0,0,
		0,1,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 165 */
		0,0,1,0,1,0,
		0,1,0,1,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,1,0,1,0,
		0,1,0,1,1,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		/* num: 166 */
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 167 */
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 168 */
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,1,1,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 169 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,1,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 170 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,1,
		0,0,0,0,0,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 171 */
		0,1,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,1,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,0,0,0,1,0,
		0,0,0,1,1,1,
		0,0,0,0,0,0,
		/* num: 172 */
		0,1,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,1,0,0,
		0,0,1,0,1,1,
		0,1,0,1,0,1,
		0,0,0,1,1,1,
		0,0,0,0,0,1,
		0,0,0,0,0,0,
		/* num: 173 */
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 174 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,0,0,1,
		0,1,0,0,1,0,
		0,0,1,0,0,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 175 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,0,1,0,0,1,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 176 */
		0,1,0,1,0,1,
		0,0,0,0,0,0,
		1,0,1,0,1,0,
		0,0,0,0,0,0,
		0,1,0,1,0,1,
		0,0,0,0,0,0,
		1,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 177 */
		0,1,0,1,0,1,
		1,0,1,0,1,0,
		0,1,0,1,0,1,
		1,0,1,0,1,0,
		0,1,0,1,0,1,
		1,0,1,0,1,0,
		0,1,0,1,0,1,
		1,0,1,0,1,0,
		/* num: 178 */
		1,0,1,0,1,0,
		1,1,1,1,1,1,
		0,1,0,1,0,1,
		1,1,1,1,1,1,
		1,0,1,0,1,0,
		1,1,1,1,1,1,
		0,1,0,1,0,1,
		1,1,1,1,1,1,
		/* num: 179 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 180 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		1,1,1,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 181 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,1,1,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		/* num: 182 */
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		1,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 183 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 184 */
		0,0,0,0,0,0,
		1,1,1,1,0,0,
		0,0,0,1,0,0,
		1,1,1,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 185 */
		0,1,0,1,0,0,
		1,1,0,1,0,0,
		0,0,0,1,0,0,
		1,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 186 */
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 187 */
		0,0,0,0,0,0,
		1,1,1,1,0,0,
		0,0,0,1,0,0,
		1,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 188 */
		0,1,0,1,0,0,
		1,1,0,1,0,0,
		0,0,0,1,0,0,
		1,1,1,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 189 */
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		1,1,1,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 190 */
		0,0,0,1,0,0,
		1,1,1,1,0,0,
		0,0,0,1,0,0,
		1,1,1,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 191 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 192 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 193 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 194 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 195 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 196 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 197 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		1,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 198 */
		0,0,0,1,0,0,
		0,0,0,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 199 */
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 200 */
		0,1,0,1,0,0,
		0,1,0,1,1,1,
		0,1,0,0,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 201 */
		0,0,0,0,0,0,
		0,1,1,1,1,1,
		0,1,0,0,0,0,
		0,1,0,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 202 */
		0,1,0,1,0,0,
		1,1,0,1,1,1,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 203 */
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		1,1,0,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 204 */
		0,1,0,1,0,0,
		0,1,0,1,1,1,
		0,1,0,0,0,0,
		0,1,0,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 205 */
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 206 */
		0,1,0,1,0,0,
		1,1,0,1,1,1,
		0,0,0,0,0,0,
		1,1,0,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 207 */
		0,0,0,1,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 208 */
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 209 */
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		/* num: 210 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		/* num: 211 */
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,0,1,0,0,
		0,1,1,1,1,1,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 212 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		/* num: 213 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 214 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 215 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 216 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 217 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 218 */
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 219 */
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		1,1,1,1,1,1,
		/* num: 220 */
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		/* num: 221 */
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		/* num: 222 */
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		/* num: 223 */
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		/* num: 224 */
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		/* num: 225 */
		0,0,0,0,0,0,
		0,1,1,1,0,0,
		0,1,0,0,1,0,
		0,1,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,1,1,0,0,
		0,1,0,0,0,0,
		/* num: 226 */
		0,1,1,1,1,0,
		0,1,0,0,1,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 227 */
		0,0,0,0,0,0,
		0,1,1,1,1,1,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 228 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,1,
		0,0,1,1,1,1,
		0,1,0,0,0,1,
		0,0,1,1,1,1,
		0,0,0,0,0,0,
		/* num: 229 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,1,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 230 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,1,1,0,0,
		0,1,0,0,0,0,
		0,1,0,0,0,0,
		/* num: 231 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,1,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 232 */
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 233 */
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,1,1,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 234 */
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,0,1,0,
		0,0,1,0,1,0,
		0,1,1,0,1,1,
		0,0,0,0,0,0,
		/* num: 235 */
		0,0,1,1,0,0,
		0,1,0,0,0,0,
		0,0,1,0,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,0,0,1,0,
		0,0,1,1,0,0,
		0,0,0,0,0,0,
		/* num: 236 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,1,0,1,0,
		0,1,0,1,0,1,
		0,1,0,1,0,1,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 237 */
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,1,0,1,0,1,
		0,1,0,1,0,1,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		/* num: 238 */
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,0,
		0,1,1,1,1,0,
		0,1,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 239 */
		0,0,0,0,0,0,
		0,0,1,1,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 240 */
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 241 */
		0,0,0,0,0,0,
		0,0,0,1,0,0,
		0,0,1,1,1,0,
		0,0,0,1,0,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 242 */
		0,1,0,0,0,0,
		0,0,1,1,0,0,
		0,0,0,0,1,0,
		0,0,1,1,0,0,
		0,1,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 243 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		1,1,1,0,0,0,
		1,0,0,1,1,0,
		1,0,0,0,0,1,
		1,0,0,0,0,0,
		1,1,1,1,1,1,
		/* num: 244 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		1,1,1,1,1,1,
		0,0,0,1,1,1,
		0,1,1,0,0,1,
		1,0,0,0,0,1,
		0,0,0,0,0,1,
		1,1,1,1,1,1,
		/* num: 245 */
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,0,0,1,0,0,
		0,1,0,1,0,0,
		0,0,1,0,0,0,
		0,0,0,0,0,0,
		/* num: 246 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,0,1,1,1,0,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,1,0,0,0,1,
		0,0,1,1,1,0,
		0,0,0,0,0,0,
		/* num: 247 */
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		1,1,1,1,1,0,
		/* num: 248 */
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		1,1,1,1,0,0,
		/* num: 249 */
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		1,1,1,0,0,0,
		/* num: 250 */
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		1,1,0,0,0,0,
		/* num: 251 */
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		1,0,0,0,0,0,
		/* num: 252 */
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		0,1,0,1,1,0,
		0,0,1,0,1,0,
		0,0,0,0,0,0,
		/* num: 253 */
		0,1,1,0,0,0,
		0,0,0,1,0,0,
		0,0,1,0,0,0,
		0,1,1,1,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		/* num: 254 */
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0,
		0,1,1,1,1,0,
		1,1,0,0,1,0,
		1,1,0,0,1,1,
		1,1,1,1,1,0,
		0,0,1,1,1,1,
		/* num: 255 */
		0,1,0,0,1,0,
		1,1,1,1,1,1,
		0,1,0,0,1,0,
		0,1,0,0,1,0,
		1,1,1,1,1,1,
		0,1,0,0,1,0,
		0,0,0,0,0,0,
		0,0,0,0,0,0
];


} // Font()
</script>

<script>
var xhr;
var canvas;
var context;
var ctx;

var title = "";
var room = {};
var tile = {};
var sprite = {};
var dialog = {};
var palette = {
	"0" : [[0,0,0],[255,0,0],[255,255,255]] //start off with a default palette (can be overriden)
};
var ending = {};

//stores all image data for tiles, sprites, drawings
var imageStore = {
	source: {},
	render: {}
};

var spriteStartLocations = {};

/* VERSION */
var version = {
	major: 3, // for file format / engine changes
	minor: 5 // for editor changes and bugfixes
};
function getEngineVersion() {
	return version.major + "." + version.minor;
}

/* FLAGS */
var flags;
function resetFlags() {
	flags = {
		ROOM_FORMAT : 0 // 0 = non-comma separated, 1 = comma separated
	};
}
resetFlags(); //init flags on load script

function clearGameData() {
	title = "";
	room = {};
	tile = {};
	sprite = {};
	dialog = {};
	palette = {
		"0" : [[0,0,0],[255,0,0],[255,255,255]] //start off with a default palette (can be overriden)
	};
	ending = {};
	isEnding = false; //todo - correct place for this?

	//stores all image data for tiles, sprites, drawings
	imageStore = {
		source: {},
		render: {}
	};

	spriteStartLocations = {};
}

var width = 128;
var height = 128;
var scale = 4; //this is stupid but necessary
var tilesize = 8;
var mapsize = 16;

var curRoom = "0";

var key = {
	left : 37,
	right : 39,
	up : 38,
	down : 40,
	space : 32,
	enter : 13,
	w : 87,
	a : 65,
	s : 83,
	d : 68,
	r : 82
};

var prevTime = 0;
var deltaTime = 0;

//methods used to trigger gif recording
var didPlayerMoveThisFrame = false;
var onPlayerMoved = null;
var didDialogUpdateThisFrame = false;
var onDialogUpdate = null;

function getGameNameFromURL() {
	var game = window.location.hash.substring(1);
	console.log("game name --- " + game);
	return game;
}

function attachCanvas(c) {
	canvas = c;
	canvas.width = width * scale;
	canvas.height = width * scale;
	ctx = canvas.getContext("2d");
}

var curGameData = null;
function load_game(game_data) {
	curGameData = game_data; //remember the current game (used to reset the game)
	parseWorld(game_data);
	renderImages();
	onready();
}

function reset_cur_game() {
	if (curGameData == null) return; //can't reset if we don't have the game data
	stopGame();
	clearGameData();
	load_game(curGameData);
}

var update_interval = null;
function onready() {
	clearInterval(loading_interval);

	document.addEventListener('keydown', onkeydown);
	canvas.addEventListener("mousedown", onTouch);
	console.log("hello");
	update_interval = setInterval(update,-1);

	startNarrating(title);
}

function onTouch(e) {
	//dialog mode
	if (isDialogMode) {

		if (isDialogReadyToContinue) {
			continueDialog();
		}
		else {
			skipDialog();
		}

		return;
	}

	if (isEnding) {
		reset_cur_game();
		return;
	}

	//walking mode
	var off = getOffset(e);
	var x = Math.floor(off.x / (tilesize*scale));
	var y = Math.floor(off.y / (tilesize*scale));
	
	//abort if you touch the square you're already on
	if (player().x == x && player().y == y) {
		return;
	}

	//did we touch a sprite?
	var touchedSprite = null;
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === curRoom) {
			if (spr.x == x && spr.y == y) {
				touchedSprite = id;
			}
		}
	}

	//respond to sprite touch
	if (touchedSprite) {
		var spr = sprite[touchedSprite];
		console.log(Math.abs(player().x - spr.x));
		console.log(Math.abs(player().y - spr.y));
		if ( Math.abs(player().x - spr.x) == 0
				&& Math.abs(player().y - spr.y) == 1 )
		{
			//touched a sprite next to you
		}
		else if ( Math.abs(player().y - spr.y) == 0
				&& Math.abs(player().x - spr.x) == 1 )
		{
			//touched a sprite next to you
		}
		else
		{
			return; //oh no! touched a sprite that's out of range
		}

		if (dialog[touchedSprite]) {
			console.log()
			startDialog( dialog[touchedSprite] );
		}

		return;
	}

	//did we touch an open square?
	var row = room[curRoom].tilemap[y];
	console.log(row);
	var til = row[x];
	console.log(til);
	if ( room[curRoom].walls.indexOf(til) != -1 ) {
		//touched a wall
		return;
	}

	//find path to open square, if there is one
	var map = collisionMap(curRoom);
	var path = breadthFirstSearch( map, {x:player().x, y:player().y}, {x:x,y:y} );
	path = path.slice(1); //remove player's start square

	//console.log( pathToString(path) );

	player().walkingPath = path;
}

function breadthFirstSearch(map, from, to) {
	from.trail = [];
	var visited = [];
	var queue = [from];
	visited.push( posToString(from) );

	//console.log( "~ bfs ~");
	//console.log( posToString(from) + " to " + posToString(to) );

	while ( queue.length > 0 ) {

		//grab pos from queue and mark as visited
		var curPos = queue.shift();

		//console.log( posToString(curPos) );
		//console.log( ".. " + pathToString(curPos.trail) );
		//console.log( visited );

		if (curPos.x == to.x && curPos.y == to.y) {
			//found a path!
			var path = curPos.trail.splice(0);
			path.push( curPos );
			return path;
		}

		//look at neighbors
		neighbors(curPos).forEach( function(n) {
			var inBounds = (n.x >= 0 && n.x < 16 && n.y >= 0 && n.y < 16);
			if (inBounds) {
				var noCollision = map[n.y][n.x] <= 0;
				var notVisited = visited.indexOf( posToString(n) ) == -1;
				if (noCollision && notVisited) {
					n.trail = curPos.trail.slice();
					n.trail.push(curPos);
					queue.push( n );
					visited.push( posToString(n) );
				}
			}
		});

	}

	return []; // no path found
}

function posToString(pos) {
	return pos.x + "," + pos.y;
}

function pathToString(path) {
	var s = "";
	for (i in path) {
		s += posToString(path[i]) + " ";
	}
	return s;
}

function neighbors(pos) {
	var neighborList = [];
	neighborList.push( {x:pos.x+1, y:pos.y+0} );
	neighborList.push( {x:pos.x-1, y:pos.y+0} );
	neighborList.push( {x:pos.x+0, y:pos.y+1} );
	neighborList.push( {x:pos.x+0, y:pos.y-1} );
	return neighborList;
}

function collisionMap(roomId) {
	var map = [
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
	];

	for (r in room[roomId].tilemap) {
		var row = room[roomId].tilemap[r];
		for (var c = 0; c < row.length; c++) {
			if (room[roomId].walls.indexOf( row[x] ) != -1) {
				map[r][c] = 1;
			}
		}
	}

	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === roomId) {
			map[spr.y][spr.x] = 2;
		}
	}

	return map;
}

function getOffset(evt) {
	var offset = { x:0, y:0 };

	var el = evt.target;
	var rect = el.getBoundingClientRect();

	offset.x += rect.left + el.scrollLeft;
	offset.y += rect.top + el.scrollTop;

	offset.x = evt.clientX - offset.x;
	offset.y = evt.clientY - offset.y;

	return offset;
}

function stopGame() {
	console.log("STOP GAME?");
	document.removeEventListener('keydown', onkeydown);
	clearInterval(update_interval);
}

/* loading animation */
var loading_anim_data = [
	[
		0,1,1,1,1,1,1,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,1,1,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,0,0,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,1,
		1,1,1,0,0,1,1,1,
		1,1,1,1,1,0,0,1,
		1,1,1,1,1,0,0,1,
		1,1,1,0,0,1,1,1,
		1,0,0,0,0,0,0,1,
		0,0,0,0,0,0,0,0,
	]
];
var loading_anim_frame = 0;
var loading_anim_speed = 500;
var loading_interval = null;

function loadingAnimation() {
	//create image
	var loadingAnimImg = ctx.createImageData(8*scale, 8*scale);
	//draw image
	for (var y = 0; y < 8; y++) {
		for (var x = 0; x < 8; x++) {
			var i = (y * 8) + x;
			if (loading_anim_data[loading_anim_frame][i] == 1) {
				//scaling nonsense
				for (var sy = 0; sy < scale; sy++) {
					for (var sx = 0; sx < scale; sx++) {
						var pxl = 4 * ( (((y*scale)+sy) * (8*scale)) + ((x*scale)+sx) );
						loadingAnimImg.data[pxl+0] = 255;
						loadingAnimImg.data[pxl+1] = 255;
						loadingAnimImg.data[pxl+2] = 255;
						loadingAnimImg.data[pxl+3] = 255;
					}
				}
			}
		}
	}
	//put image on canvas
	ctx.putImageData(loadingAnimImg,scale*(width/2 - 4),scale*(height/2 - 4));
	//update frame
	loading_anim_frame++;
	if (loading_anim_frame >= 5) loading_anim_frame = 0;
	console.log(loading_anim_frame);
}

function update() {
	var curTime = Date.now();
	deltaTime = curTime - prevTime;
	
	//clear screen
	ctx.fillStyle = "rgb("+palette[curPal()][0][0]+","+palette[curPal()][0][1]+","+palette[curPal()][0][2]+")";
	ctx.fillRect(0,0,canvas.width,canvas.height);
	
	if (!isNarrating && !isEnding) {
		updateAnimation();
		drawRoom( room[curRoom] ); // draw world if game has begun
	}

	if (isDialogMode) { // dialog mode
		updateDialog();
		drawDialogBox();
	}
	else if (!isEnding) {
		moveSprites();

		if (player().walkingPath.length > 0) {
			var dest = player().walkingPath[ player().walkingPath.length - 1 ];
			ctx.fillStyle = "#fff";
			ctx.globalAlpha = 0.5;
			ctx.fillRect( dest.x * tilesize*scale, dest.y * tilesize*scale, tilesize*scale, tilesize*scale );
			ctx.globalAlpha = 1;
		}
	}

	prevTime = curTime;

	//for gif recording
	if (didPlayerMoveThisFrame && onPlayerMoved != null) onPlayerMoved();
	didPlayerMoveThisFrame = false;
	if (didDialogUpdateThisFrame && onDialogUpdate != null) onDialogUpdate();
	didDialogUpdateThisFrame = false;
}

var animationCounter = 0;
var animationTime = 400;
function updateAnimation() {
	animationCounter += deltaTime;

	if ( animationCounter >= animationTime ) {

		// animate sprites
		for (id in sprite) {
			var spr = sprite[id];
			if (spr.animation.isAnimated) {
				spr.animation.frameIndex = ( spr.animation.frameIndex + 1 ) % spr.animation.frameCount;
			}
		}

		// animate tiles
		for (id in tile) {
			var til = tile[id];
			if (til.animation.isAnimated) {
				til.animation.frameIndex = ( til.animation.frameIndex + 1 ) % til.animation.frameCount;
			}
		}

		// reset counter
		animationCounter = 0;

	}
}

var moveCounter = 0;
var moveTime = 200;
function moveSprites() {
	moveCounter += deltaTime;

	if (moveCounter >= moveTime) {

		for (id in sprite) {
			var spr = sprite[id];
			if (spr.walkingPath.length > 0) {
				//move sprite
				var nextPos = spr.walkingPath.shift();
				spr.x = nextPos.x;
				spr.y = nextPos.y;


				var end = getEnding( spr.room, spr.x, spr.y );
				var ext = getExit( spr.room, spr.x, spr.y );
				if (end) { //if the sprite hits an ending
					if (id === "A") { // only the player can end the game
						startNarrating( ending[end.id], true /*isEnding*/ );
					}
				}
				else if (ext) { //if the sprite hits an exit
					//move it to another scene
					spr.room = ext.dest.room;
					spr.x = ext.dest.x;
					spr.y = ext.dest.y;
					if (id === "A") {
						//if the player changes scenes, change the visible scene
						curRoom = ext.dest.room;
					}
				}

				if (id === "A") didPlayerMoveThisFrame = true;
			}
		}

		moveCounter = 0;
	}

}

function getSpriteAt(x,y) {
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === curRoom) {
			if (spr.x == x && spr.y == y) {
				return id;
			}
		}
	}
	return null;
}

function onkeydown(e) {
	console.log(e.keyCode);
	e.preventDefault();

	if (isDialogMode) {

		/* CONTINUE DIALOG */

		if (isDialogReadyToContinue) {
			continueDialog();
		}
		else {
			skipDialog();
		}

	}
	else if (isEnding) {
		/* RESTART GAME */
		reset_cur_game();
	}
	else {

		/* WALK */

		var spr = null;

		if ( (e.keyCode == key.left || e.keyCode == key.a) && !(spr = getSpriteLeft()) && !isWallLeft()) {
			player().x -= 1;
			didPlayerMoveThisFrame = true;
		}
		else if ( (e.keyCode == key.right || e.keyCode == key.d) && !(spr = getSpriteRight()) && !isWallRight()) {
			player().x += 1;
			didPlayerMoveThisFrame = true;
		}
		else if ( (e.keyCode == key.up || e.keyCode == key.w) && !(spr = getSpriteUp()) && !isWallUp()) {
			player().y -= 1;
			didPlayerMoveThisFrame = true;
		}
		else if ( (e.keyCode == key.down || e.keyCode == key.s) && !(spr = getSpriteDown()) && !isWallDown()) {
			player().y += 1;
			didPlayerMoveThisFrame = true;
		}
		
		var ext = getExit( player().room, player().x, player().y );
		var end = getEnding( player().room, player().x, player().y );
		if (end) {
			startNarrating( ending[end.id], true /*isEnding*/ );
		}
		else if (ext) {
			player().room = ext.dest.room;
			player().x = ext.dest.x;
			player().y = ext.dest.y;
			curRoom = ext.dest.room;
		}
		else if (spr) {
			if (dialog[spr]) {
				startDialog(dialog[spr]);
			}
		}

		/* RESTART GAME */
		if ( e.keyCode === key.r && ( e.getModifierState("Control") || e.getModifierState("Meta") ) ) {
			if ( confirm("Restart the game?") ) {
				reset_cur_game();
			}
		}
	}

}

function getSpriteLeft() { //repetitive?
	return getSpriteAt( player().x - 1, player().y );
}

function getSpriteRight() {
	return getSpriteAt( player().x + 1, player().y );
}

function getSpriteUp() {
	return getSpriteAt( player().x, player().y - 1 );
}

function getSpriteDown() {
	return getSpriteAt( player().x, player().y + 1 );
}


function getSpriteAt(x,y) {
	for (s in sprite) {
		if (sprite[s].room === curRoom) {
			if (sprite[s].x == x && sprite[s].y == y) {
				console.log(s);
				return s;
			}
		}
	}
	return null;
}

function isWallLeft() {
	return isWall( player().x - 1, player().y ) || (player().x - 1 < 0);
}

function isWallRight() {
	return isWall( player().x + 1, player().y ) || (player().x + 1 >= 16);
}

function isWallUp() {
	return isWall( player().x, player().y - 1 ) || (player().y - 1 < 0);
}

function isWallDown() {
	return isWall( player().x, player().y + 1 ) || (player().y + 1 >= 16);
}

function isWall(x,y) {
	console.log(x + " " + y);
	var i = getRoom().walls.indexOf( getTile(x,y) );
	return i > -1;
}

function getExit(roomId,x,y) {
	for (i in room[roomId].exits) {
		var e = room[roomId].exits[i];
		if (x == e.x && y == e.y) {
			return e;
		}
	}
	return null;
}

function getEnding(roomId,x,y) {
	for (i in room[roomId].endings) {
		var e = room[roomId].endings[i];
		if (x == e.x && y == e.y) {
			return e;
		}
	}
	return null;
}

function getTile(x,y) {
	console.log(x + " " + y);
	var t = getRoom().tilemap[y][x];
	return t;
}

function player() {
	return sprite["A"];
}

function getRoom() {
	return room[curRoom];
}

function isSpriteOffstage(id) {
	return sprite[id].room == null;
}

function parseWorld(file) {
	resetFlags();

	var lines = file.split("\n");
	var i = 0;
	while (i < lines.length) {
		var curLine = lines[i];

		// console.log(lines[i]);

		if (i == 0) {
			i = parseTitle(lines, i);
		}
		else if (curLine.length <= 0 || curLine.charAt(0) === "#") {
			//skip blank lines & comments
			i++;
		}
		else if (getType(curLine) == "PAL") {
			i = parsePalette(lines, i);
		}
		else if (getType(curLine) === "ROOM" || getType(curLine) === "SET") { //SET for back compat
			i = parseRoom(lines, i);
		}
		else if (getType(curLine) === "TIL") {
			i = parseTile(lines, i);
		}
		else if (getType(curLine) === "SPR") {
			i = parseSprite(lines, i);
		}
		else if (getType(curLine) === "DRW") {
			i = parseDrawing(lines, i);
		}
		else if (getType(curLine) === "DLG") {
			i = parseDialog(lines, i);
		}
		else if (getType(curLine) === "END") {
			i = parseEnding(lines, i);
		}
		else if (getType(curLine) === "!") {
			i = parseFlag(lines, i);
		}
		else {
			i++;
		}
	}
	placeSprites();
	if (player().room != null) {
		curRoom = player().room;
	}
}

//TODO this is in progress and doesn't support all features
function serializeWorld() {
	var worldStr = "";
	/* TITLE */
	worldStr += title + "\n";
	worldStr += "\n";
	/* VERSION */
	worldStr += "# BITSY VERSION " + getEngineVersion() + "\n"; // add version as a comment for debugging purposes
	worldStr += "\n";
	/* FLAGS */
	for (f in flags) {
		worldStr += "! " + f + " " + flags[f] + "\n";
	}
	worldStr += "\n"
	/* PALETTE */
	for (id in palette) {
		worldStr += "PAL " + id + "\n";
		for (i in palette[id]) {
			for (j in palette[id][i]) {
				worldStr += palette[id][i][j];
				if (j < 2) worldStr += ",";
			}
			worldStr += "\n";
		}
		worldStr += "\n";
	}
	/* ROOM */
	for (id in room) {
		worldStr += "ROOM " + id + "\n";
		if ( flags.ROOM_FORMAT == 0 ) {
			// old non-comma separated format
			for (i in room[id].tilemap) {
				for (j in room[id].tilemap[i]) {
					worldStr += room[id].tilemap[i][j];	
				}
				worldStr += "\n";
			}
		}
		else if ( flags.ROOM_FORMAT == 1 ) {
			// new comma separated format
			for (i in room[id].tilemap) {
				for (j in room[id].tilemap[i]) {
					worldStr += room[id].tilemap[i][j];
					if (j < room[id].tilemap[i].length-1) worldStr += ","
				}
				worldStr += "\n";
			}
		}
		if (room[id].walls.length > 0) {
			/* WALLS */
			worldStr += "WAL ";
			for (j in room[id].walls) {
				worldStr += room[id].walls[j];
				if (j < room[id].walls.length-1) {
					worldStr += ",";
				}
			}
			worldStr += "\n";
		}
		if (room[id].exits.length > 0) {
			/* EXITS */
			for (j in room[id].exits) {
				var e = room[id].exits[j];
				if ( isExitValid(e) ) {
					worldStr += "EXT " + e.x + "," + e.y + " " + e.dest.room + " " + e.dest.x + "," + e.dest.y;
					worldStr += "\n";
				}
			}
		}
		if (room[id].endings.length > 0) {
			/* ENDINGS */
			for (j in room[id].endings) {
				var e = room[id].endings[j];
				// todo isEndingValid
				worldStr += "END " + e.id + " " + e.x + "," + e.y;
				worldStr += "\n";
			}
		}
		if (room[id].pal != null) {
			/* PALETTE */
			worldStr += "PAL " + room[id].pal + "\n";
		}
		worldStr += "\n";
	}
	/* TILES */
	for (id in tile) {
		worldStr += "TIL " + id + "\n";
		worldStr += serializeDrawing( "TIL_" + id );
		worldStr += "\n";
	}
	/* SPRITES */
	for (id in sprite) {
		worldStr += "SPR " + id + "\n";
		worldStr += serializeDrawing( "SPR_" + id );
		if (sprite[id].room != null) {
			/* SPRITE POSITION */
			worldStr += "POS " + sprite[id].room + " " + sprite[id].x + "," + sprite[id].y + "\n";
		}
		worldStr += "\n";
	}
	/* DIALOG */
	for (id in dialog) {
		worldStr += "DLG " + id + "\n";
		worldStr += dialog[id] + "\n";
		worldStr += "\n";
	}
	/* ENDINGS */
	for (id in ending) {
		worldStr += "END " + id + "\n";
		worldStr += ending[id] + "\n";
		worldStr += "\n";
	}
	return worldStr;
}

function serializeDrawing(drwId) {
	var drwStr = "";
	for (f in imageStore.source[drwId]) {
		for (y in imageStore.source[drwId][f]) {
			var rowStr = "";
			for (x in imageStore.source[drwId][f][y]) {
				rowStr += imageStore.source[drwId][f][y][x];
			}
			drwStr += rowStr + "\n";
		}
		if (f < (imageStore.source[drwId].length-1)) drwStr += ">\n";
	}
	return drwStr;
}

function isExitValid(e) {
	var hasValidStartPos = e.x >= 0 && e.x < 16 && e.y >= 0 && e.y < 16;
	var hasDest = e.dest != null;
	var hasValidRoomDest = (e.dest.room != null && e.dest.x >= 0 && e.dest.x < 16 && e.dest.y >= 0 && e.dest.y < 16);
	return hasValidStartPos && hasDest && hasValidRoomDest;
}

function placeSprites() {
	for (id in spriteStartLocations) {
		//console.log(id);
		//console.log( spriteStartLocations[id] );
		//console.log(sprite[id]);
		sprite[id].room = spriteStartLocations[id].room;
		sprite[id].x = spriteStartLocations[id].x;
		sprite[id].y = spriteStartLocations[id].y;
		//console.log(sprite[id]);
	}
}

/* ARGUMENT GETTERS */
function getType(line) {
	return getArg(line,0);
}

function getId(line) {
	return getArg(line,1);
}

function getArg(line,arg) {
	return line.split(" ")[arg];
}

function getCoord(line,arg) {
	return getArg(line,arg).split(",");
}

function parseTitle(lines, i) {
	title = lines[i];
	i++;
	return i;
}

function parseRoom(lines, i) {
	var id = getId(lines[i]);
	room[id] = {
		id : id,
		tilemap : [],
		walls : [],
		exits : [],
		endings : [],
		pal : null
	};
	i++;

	// create tile map
	if ( flags.ROOM_FORMAT == 0 ) {
		// old way: no commas, single char tile ids
		var end = i + mapsize;
		var y = 0;
		for (; i<end; i++) {
			room[id].tilemap.push( [] );
			for (x = 0; x<mapsize; x++) {
				room[id].tilemap[y].push( lines[i].charAt(x) );
			}
			y++;
		}
	}
	else if ( flags.ROOM_FORMAT == 1 ) {
		// new way: comma separated, multiple char tile ids
		var end = i + mapsize;
		var y = 0;
		for (; i<end; i++) {
			room[id].tilemap.push( [] );
			var lineSep = lines[i].split(",");
			for (x = 0; x<mapsize; x++) {
				room[id].tilemap[y].push( lineSep[x] );
			}
			y++;
		}
	}

	while (i < lines.length && lines[i].length > 0) { //look for empty line
		// console.log(getType(lines[i]));
		if (getType(lines[i]) === "SPR") {
			/* NOTE SPRITE START LOCATIONS */
			var sprId = getId(lines[i]);
			if (sprId.indexOf(",") == -1 && lines[i].split(" ").length >= 3) { //second conditional checks for coords
				/* PLACE A SINGLE SPRITE */
				var sprCoord = lines[i].split(" ")[2].split(",");
				spriteStartLocations[sprId] = {
					room : id,
					x : parseInt(sprCoord[0]),
					y : parseInt(sprCoord[1])
				};
			}
			else if ( flags.ROOM_FORMAT == 0 ) { // TODO: right now this shortcut only works w/ the old comma separate format
				/* PLACE MULTIPLE SPRITES*/ 
				//Does find and replace in the tilemap (may be hacky, but its convenient)
				var sprList = sprId.split(",");
				for (row in room[id].tilemap) {
					for (s in sprList) {
						var col = room[id].tilemap[row].indexOf( sprList[s] );
						//if the sprite is in this row, replace it with the "null tile" and set its starting position
						if (col != -1) {
							room[id].tilemap[row][col] = "0";
							spriteStartLocations[ sprList[s] ] = {
								room : id,
								x : parseInt(col),
								y : parseInt(row)
							};
						}
					}
				}
			}
		}
		else if (getType(lines[i]) === "WAL") {
			/* DEFINE COLLISIONS (WALLS) */
			room[id].walls = getId(lines[i]).split(",");
		}
		else if (getType(lines[i]) === "EXT") {
			/* ADD EXIT */
			var exitArgs = lines[i].split(" ");
			//arg format: EXT 10,5 M 3,2
			var exitCoords = exitArgs[1].split(",");
			var destName = exitArgs[2];
			var destCoords = exitArgs[3].split(",");
			var ext = {
				x : parseInt(exitCoords[0]),
				y : parseInt(exitCoords[1]),
				dest : {
					room : destName,
					x : parseInt(destCoords[0]),
					y : parseInt(destCoords[1])
				}
			};
			room[id].exits.push(ext);
		}
		else if (getType(lines[i]) === "END") {
			/* ADD ENDING */
			var endId = getId( lines[i] );
			var endCoords = getCoord( lines[i], 2 );
			var end = {
				id : endId,
				x : parseInt( endCoords[0] ),
				y : parseInt( endCoords[1] )
			};
			room[id].endings.push(end);
		}
		else if (getType(lines[i]) === "PAL") {
			/* CHOOSE PALETTE (that's not default) */
			room[id].pal = getId(lines[i]);
		}
		i++;
	}
	return i;
}

function parsePalette(lines,i) { //todo this has to go first right now :(
	var id = getId(lines[i]);
	i++;
	var pal = [];
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		var col = [];
		lines[i].split(",").forEach(function(i) {
			col.push(parseInt(i));
		});
		pal.push(col);
		i++;
	}
	palette[id] = pal;
	return i;
}

function parseTile(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store tile source
		drwId = "TIL_" + id;
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 1; //default palette color index is 1
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			colorIndex = parseInt( getId(lines[i]) );
		}
		i++;
	}

	//tile data
	tile[id] = {
		drw : drwId, //drawing id
		col : colorIndex,
		animation : {
			isAnimated : (imageStore.source[drwId].length > 1),
			frameIndex : 0,
			frameCount : imageStore.source[drwId].length
		}
	};
	return i;
}

function parseSprite(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store sprite source
		drwId = "SPR_" + id;
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 2; //default palette color index is 2
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			/* COLOR OFFSET INDEX */
			colorIndex = parseInt( getId(lines[i]) );
		}
		else if (getType(lines[i]) === "POS") {
			/* STARTING POSITION */
			var posArgs = lines[i].split(" ");
			var roomId = posArgs[1];
			var coordArgs = posArgs[2].split(",");
			spriteStartLocations[id] = {
				room : roomId,
				x : parseInt(coordArgs[0]),
				y : parseInt(coordArgs[1])
			};
		}
		i++;
	}

	//sprite data
	sprite[id] = {
		drw : drwId, //drawing id
		col : colorIndex,
		room : null, //default location is "offstage"
		x : -1,
		y : -1,
		walkingPath : [], //tile by tile movement path (isn't saved)
		animation : {
			isAnimated : (imageStore.source[drwId].length > 1),
			frameIndex : 0,
			frameCount : imageStore.source[drwId].length
		}
	};
	return i;
}

function parseDrawing(lines, i) {
	// store drawing source
	var drwId = getId( lines[i] );
	return parseDrawingCore( lines, i, drwId );
}

function parseDrawingCore(lines, i, drwId) {
	imageStore.source[drwId] = []; //init list of frames
	imageStore.source[drwId].push( [] ); //init first frame
	var frameIndex = 0;
	var y = 0;
	while ( y < tilesize ) {
		var l = lines[i+y];
		var row = [];
		for (x = 0; x < tilesize; x++) {
			row.push( parseInt( l.charAt(x) ) );
		}
		imageStore.source[drwId][frameIndex].push( row );
		y++;

		if (y === tilesize) {
			i = i + y;
			if ( lines[i] != undefined && lines[i].charAt(0) === ">" ) {
				// start next frame!
				imageStore.source[drwId].push( [] );
				frameIndex++;
				//start the count over again for the next frame
				i++;
				y = 0;
			}
		}
	}

	//console.log(imageStore.source[drwId]);
	return i;
}

function renderImages() {
	console.log(" -- RENDER IMAGES -- ");

	//init image store
	for (pal in palette) {
		imageStore.render[pal] = {
			"1" : {}, //images with primary color index 1 (usually tiles)
			"2" : {}  //images with primary color index 2 (usually sprites)
		};
	}

	//render images required by sprites
	for (s in sprite) {
		var spr = sprite[s];
		renderImageForAllPalettes( spr );
	}
	//render images required by tiles
	for (t in tile) {
		var til = tile[t];
		renderImageForAllPalettes( til );
	}
}

function renderImageForAllPalettes(drawing) {
	for (pal in palette) {
		var col = drawing.col;
		var colStr = "" + col;
		var imgSrc = imageStore.source[ drawing.drw ];
		if ( imgSrc.length <= 1 ) {
			// non-animated drawing
			var frameSrc = imgSrc[0];
			imageStore.render[pal][colStr][drawing.drw] = imageDataFromImageSource( frameSrc, pal, col );
		}
		else {
			// animated drawing
			var frameCount = 0;
			for (f in imgSrc) {
				var frameSrc = imgSrc[f];
				var frameId = drawing.drw + "_" + frameCount;
				imageStore.render[pal][colStr][frameId] = imageDataFromImageSource( frameSrc, pal, col );
				frameCount++;
			}
		}		
	}
}

function imageDataFromImageSource(imageSource, pal, col) {
	//console.log(imageSource);

	var img = ctx.createImageData(tilesize*scale,tilesize*scale);
	for (var y = 0; y < tilesize; y++) {
		for (var x = 0; x < tilesize; x++) {
			var px = imageSource[y][x];
			for (var sy = 0; sy < scale; sy++) {
				for (var sx = 0; sx < scale; sx++) {
					var pxl = (((y * scale) + sy) * tilesize * scale * 4) + (((x*scale) + sx) * 4);
					if (px === 1) {
						img.data[pxl + 0] = palette[pal][col][0]; //ugly
						img.data[pxl + 1] = palette[pal][col][1];
						img.data[pxl + 2] = palette[pal][col][2];
						img.data[pxl + 3] = 255;
					}
					else { //ch === 0
						img.data[pxl + 0] = palette[pal][0][0];
						img.data[pxl + 1] = palette[pal][0][1];
						img.data[pxl + 2] = palette[pal][0][2];
						img.data[pxl + 3] = 255;
					}
				}
			}
		}
	}
	return img;
}

function parseDialog(lines, i) {
	var id = getId(lines[i]);
	i++;
	var text = lines[i];
	i++;
	dialog[id] = text;
	return i;
}

function parseEnding(lines, i) {
	var id = getId(lines[i]);
	i++;
	var text = lines[i];
	i++;
	ending[id] = text;
	return i;
}

function parseFlag(lines, i) {
	var id = getId(lines[i]);
	var valStr = lines[i].split(" ")[2];
	flags[id] = parseInt( valStr );
	i++;
	return i;
}

function drawTile(img,x,y,context) {
	if (!context) { //optional pass in context; otherwise, use default
		context = ctx;
	}
	context.putImageData(img,x*tilesize*scale,y*tilesize*scale);
}

function drawSprite(img,x,y,context) { //this may differ later (or not haha)
	drawTile(img,x,y,context);
}

function drawRoom(room,context) {
	//draw tiles
	for (i in room.tilemap) {
		for (j in room.tilemap[i]) {
			var id = room.tilemap[i][j];
			if (id != "0") {
				//console.log(id);
				if (tile[id] == null) { // hack-around to avoid corrupting files (not a solution though!)
					id = "0";
					room.tilemap[i][j] = id;
				}
				else {
					// console.log(id);
					drawTile( getTileImage(tile[id],getRoomPal(room.id)), j, i, context );
				}
			}
		}
	}
	//draw sprites
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === room.id) {
			drawSprite( getSpriteImage(spr,getRoomPal(room.id)), spr.x, spr.y, context );
		}
	}
}

function getTileImage(t,palId,frameIndex=null) {
	var drwId = t.drw;

	if (!palId) palId = curPal();

	if ( t.animation.isAnimated ) {
		if (frameIndex != null) { // use optional provided frame index
			// console.log("GET TILE " + frameIndex);
			drwId += "_" + frameIndex;
		}
		else { // or the one bundled with the tile
			drwId += "_" + t.animation.frameIndex;
		}
	}
	return imageStore.render[ palId ][ t.col ][ drwId ];
}

function getSpriteImage(s,palId,frameIndex=null) {
	var drwId = s.drw;

	if (!palId) palId = curPal();

	if ( s.animation.isAnimated ) {
		if (frameIndex != null) {
			drwId += "_" + frameIndex;
		}
		else {
			drwId += "_" + s.animation.frameIndex;
		}
	}

	return imageStore.render[ palId ][ s.col ][ drwId ];
}

function curPal() {
	return getRoomPal(curRoom);
}

function getRoomPal(roomId) {
	if (room[roomId].pal != null) {
		//a specific palette was chosen
		return room[roomId].pal;
	}
	else {
		if (roomId in palette) {
			//there is a palette matching the name of the room
			return roomId;
		}
		else {
			//use the default palette
			return "0";
		}
	}
	return "0";	
}

/* DIALOG */
var font = new Font();

var dialogbox = {
	img : null,
	width : 104,
	height : 8+4+2+5, //8 for text, 4 for top-bottom padding, 2 for line padding, 5 for arrow
	top : 12,
	left : 12,
	bottom : 12, //for drawing it from the bottom
	charsPerRow : 32
};

var curDialog = [];
var curLine = 0;
var curRow = 0;
var curChar = 0;
var nextCharTimer = 0;
var nextCharMaxTime = 50; //in milliseconds

var isDialogMode = false;
var isNarrating = false;
var isEnding = false;
var isDialogReadyToContinue = false;

function clearDialogBox() {
	dialogbox.img = ctx.createImageData(dialogbox.width*scale, dialogbox.height*scale);
}

function drawDialogBox() {
	if (isNarrating) {
		ctx.putImageData(dialogbox.img, dialogbox.left*scale, ((height/2)-(dialogbox.height/2))*scale);
	}
	else if (player().y < mapsize/2) {
		//bottom
		ctx.putImageData(dialogbox.img, dialogbox.left*scale, (height-dialogbox.bottom-dialogbox.height)*scale);
	}
	else {
		//top
		ctx.putImageData(dialogbox.img, dialogbox.left*scale, dialogbox.top*scale);
	}
}

function updateDialog() {
	if (isDialogReadyToContinue) {
		return; //waiting for dialog to be advance by player
	}

	nextCharTimer += deltaTime; //tick timer

	if (nextCharTimer > nextCharMaxTime) {
		//time to update characters
		if (curChar + 1 < curDialog[curLine][curRow].length) {
			//add char to current row
			curChar++;
		}
		else if (curRow + 1 < curDialog[curLine].length) {
			//start next row
			curRow++;
			curChar = 0;
		}
		else {
			//the line is full!
			drawNextDialogArrow();
			isDialogReadyToContinue = true;
			didDialogUpdateThisFrame = true;
		}

		drawNextDialogChar();
	}
}

function skipDialog() {
	// add new characters until you get to the end of the current line of dialog
	while ( curRow < curDialog[curLine].length ) {
		if (curChar + 1 < curDialog[curLine][curRow].length) {
			//add char to current row
			curChar++;
		}
		else if (curRow + 1 < curDialog[curLine].length) {
			//start next row
			curRow++;
			curChar = 0;
		}
		else {
			//the line is full!
			drawNextDialogArrow();
			isDialogReadyToContinue = true;
			didDialogUpdateThisFrame = true;
			//make sure to push the curRow past the end to break out of the loop
			curRow++;
			curChar = 0;
		}

		drawNextDialogChar();
	}
}

var arrowdata = [
	1,1,1,1,1,
	0,1,1,1,0,
	0,0,1,0,0
];
function drawNextDialogArrow() {
	console.log("draw arrow!");
	var top = (dialogbox.height-5) * scale;
	var left = (dialogbox.width-(5+4)) * scale;
	for (var y = 0; y < 3; y++) {
		for (var x = 0; x < 5; x++) {
			var i = (y * 5) + x;
			if (arrowdata[i] == 1) {
				//scaling nonsense
				for (var sy = 0; sy < scale; sy++) {
					for (var sx = 0; sx < scale; sx++) {
						var pxl = 4 * ( ((top+(y*scale)+sy) * (dialogbox.width*scale)) + (left+(x*scale)+sx) );
						dialogbox.img.data[pxl+0] = 255;
						dialogbox.img.data[pxl+1] = 255;
						dialogbox.img.data[pxl+2] = 255;
						dialogbox.img.data[pxl+3] = 255;
					}
				}

				
			}
		}
	}
}

function continueDialog() {
	console.log("continue!!!");
	if (curLine + 1 < curDialog.length) {
		//start next line
		isDialogReadyToContinue = false;
		curLine++;
		curRow = 0;
		curChar = 0;
		clearDialogBox();
		drawNextDialogChar();
	}
	else {
		//end dialog mode
		isDialogMode = false;
		onExitDialog();
	}
}

function onExitDialog() {
	if (isNarrating) isNarrating = false;
}

function drawNextDialogChar() {
	//draw the character
	var nextChar = curDialog[curLine][curRow][curChar]; //todo - there's a bug here sometimes on speed text (but it doesn't really break anything)
	drawDialogChar(nextChar, curRow, curChar);

	nextCharTimer = 0; //reset timer
}

var text_scale = 2; //using a different scaling factor for text feels like cheating... but it looks better
function drawDialogChar(char, row, col) {

	var top = (4 * scale) + (row * 2 * scale) + (row * 8 * text_scale);
	var left = (4 * scale) + (col * 6 * text_scale);
	var charData = font.getChar( char );
	for (var y = 0; y < 8; y++) {
		for (var x = 0; x < 6; x++) {
			var i = (y * 6) + x;
			if ( charData[i] == 1 ) {

				//scaling nonsense
				for (var sy = 0; sy < text_scale; sy++) {
					for (var sx = 0; sx < text_scale; sx++) {
						var pxl = 4 * ( ((top+(y*text_scale)+sy) * (dialogbox.width*scale)) + (left+(x*text_scale)+sx) );
						dialogbox.img.data[pxl+0] = 255;
						dialogbox.img.data[pxl+1] = 255;
						dialogbox.img.data[pxl+2] = 255;
						dialogbox.img.data[pxl+3] = 255;
					}
				}

				
			}
		}
	}
}

function startNarrating(dialogStr,end=false) {
	isNarrating = true;
	isEnding = end;
	startDialog(dialogStr);
}

function startDialog(dialogStr) {
	if(dialogStr.length <= 0) {
		//end dialog mode
		isDialogMode = false;
		onExitDialog();
		return;
	}

	//process dialog so it's easier to display
	var words = dialogStr.split(" ");
	curDialog = [];
	var curLineArr = [];
	var curRowStr = words[0];

	for (var i = 1; i < words.length; i++) {
		var word = words[i];
		if (curRowStr.length + word.length + 1 <= dialogbox.charsPerRow) {
			//stay on same row
			curRowStr += " " + word;
		}
		else if (curLineArr.length == 0) {
			//start next row
			curLineArr.push(curRowStr);
			curRowStr = word;
		}
		else {
			//start next line
			curLineArr.push(curRowStr);
			curDialog.push(curLineArr);
			curLineArr = [];
			curRowStr = word;
		}
	}

	//finish up 
	if (curRowStr.length > 0) {
		curLineArr.push(curRowStr);
	}
	if (curLineArr.length > 0) {
		curDialog.push(curLineArr);
	}

	console.log(curDialog);

	curLine = 0;
	curRow = 0;
	curChar = 0;

	isDialogMode = true;
	isDialogReadyToContinue = false;

	clearDialogBox();
	drawNextDialogChar();
}
</script>

</head>


<!-- DOCUMENT BODY -->
<body onload='startExportedGame()'>
	<canvas id='game'></canvas>
</body>


</html>
	